spinnerRankingRegions = $("#spinner-ranking-region");
spinnerSummonerDetails = $("#spinner-loading-summoner-stats");

summonerSearchInput = $(".summoner-search-input");
summonerSearchSelectRegion = $(".summoner-search-select-region");
summonerDetails = $(".summoner-details");

summonerDetails.hide();


$(".summoner-search-btn").click(function() {
	setHTMLSummonerDetails(summonerSearchSelectRegion.text().toLowerCase(), "", "", summonerSearchInput.val().toLowerCase());	
	// console.log(topOfTheWorld.sort(compareTopWorld));
});


const SERVER_PATH = "./server/";
// const SUMMONER_ICON_PATH = "./img/profileicon/";
const SUMMONER_ICON_PATH = "https://ddragon.leagueoflegends.com/cdn/11.15.1/img/profileicon/";
const LIMIT_GENERATE_SUMMONERS = 10;

var mymap = {};

var topOfTheWorld = [];

var allCoordinates = new Array();
	allCoordinates['br1'] = new Array({"coordinates":[[{"lat":"-23.362428593409","lon":"-52.03125"}],[{"lat":"-26.863280626766","lon":"-49.8779296875"}],[{"lat":"-16.130262012035","lon":"-44.0771484375"}],[{"lat":"-16.636191878398","lon":"-42.4951171875"}],[{"lat":"-29.802517905764","lon":"-52.646484375"}],[{"lat":"-24.60706913771","lon":"-53.0859375"}],[{"lat":"-2.8552627843666","lon":"-47.28515625"}],[{"lat":"-10.098670120603","lon":"-60.4248046875"}],[{"lat":"-10.271681232947","lon":"-41.0009765625"}],[{"lat":"-27.56672143041","lon":"-52.55859375"}],[{"lat":"-4.5654735507103","lon":"-57.568359375"}],[{"lat":"-4.0834527720386","lon":"-62.7978515625"}],[{"lat":"-9.7956775828297","lon":"-61.962890625"}],[{"lat":"-17.140790393317","lon":"-42.4951171875"}],[{"lat":"-17.476432197196","lon":"-50.3173828125"}],[{"lat":"-20.179723502765","lon":"-57.65625"}],[{"lat":"-21.698265496853","lon":"-49.9658203125"}],[{"lat":"-12.425847783029","lon":"-55.4150390625"}],[{"lat":"-12.768946439456","lon":"-47.021484375"}],[{"lat":"0.3076157096439","lon":"-61.083984375"}],[{"lat":"-6.1405547824503","lon":"-60.0732421875"}],[{"lat":"-16.088042220149","lon":"-52.822265625"}],[{"lat":"-15.029685756556","lon":"-49.04296875"}],[{"lat":"-14.774882506516","lon":"-42.275390625"}],[{"lat":"-0.43944881641396","lon":"-65.654296875"}],[{"lat":"0.57127959663254","lon":"-61.9189453125"}],[{"lat":"-9.9688506085461","lon":"-46.669921875"}],[{"lat":"-12.16822567739","lon":"-52.3828125"}],[{"lat":"-14.349547837185","lon":"-47.724609375"}],[{"lat":"-5.8783321096743","lon":"-47.724609375"}],[{"lat":"-10.660607953625","lon":"-52.1630859375"}],[{"lat":"-17.602139123351","lon":"-58.5791015625"}],[{"lat":"-19.683970235888","lon":"-45.3955078125"}],[{"lat":"-5.4847680181413","lon":"-63.5888671875"}],[{"lat":"-22.471954507739","lon":"-49.04296875"}],[{"lat":"-8.971897294083","lon":"-41.66015625"}],[{"lat":"1.1864386394452","lon":"-56.9970703125"}],[{"lat":"-13.239945499286","lon":"-47.8125"}],[{"lat":"-11.221510260011","lon":"-61.259765625"}],[{"lat":"-24.447149589731","lon":"-56.6455078125"}],[{"lat":"-13.197164523282","lon":"-43.6376953125"}],[{"lat":"-9.8389793755793","lon":"-57.1728515625"}],[{"lat":"-22.105998799751","lon":"-50.537109375"}],[{"lat":"-9.9255659124055","lon":"-51.240234375"}],[{"lat":"-20.838277806059","lon":"-54.404296875"}],[{"lat":"-17.936928637549","lon":"-53.6572265625"}],[{"lat":"-26.431228064506","lon":"-55.7666015625"}],[{"lat":"-9.0153023334206","lon":"-51.591796875"}],[{"lat":"-7.0136679275666","lon":"-38.671875"}],[{"lat":"-10.314919285813","lon":"-39.7265625"}],[{"lat":"-8.0592296272002","lon":"-48.69140625"}],[{"lat":"-17.811456088564","lon":"-56.3818359375"}],[{"lat":"-14.987239525774","lon":"-50.3173828125"}],[{"lat":"-6.5336451305675","lon":"-70.7958984375"}],[{"lat":"-21.28937435586","lon":"-50.3173828125"}],[{"lat":"-17.727758609852","lon":"-46.494140625"}],[{"lat":"-28.07198030178","lon":"-50.5810546875"}],[{"lat":"-29.726222319396","lon":"-56.25"}],[{"lat":"-7.2752923363722","lon":"-47.0654296875"}],[{"lat":"-21.983801417385","lon":"-49.9658203125"}],[{"lat":"-22.836945920944","lon":"-44.7802734375"}],[{"lat":"-28.613459424004","lon":"-53.7451171875"}],[{"lat":"-6.4463177494576","lon":"-68.291015625"}],[{"lat":"-4.1711154548674","lon":"-51.416015625"}],[{"lat":"-3.9519408561576","lon":"-54.3603515625"}],[{"lat":"0.3076157096439","lon":"-54.404296875"}],[{"lat":"-19.642587534013","lon":"-46.0107421875"}],[{"lat":"-5.5722498011139","lon":"-36.3427734375"}],[{"lat":"-18.104087015774","lon":"-54.66796875"}],[{"lat":"-1.6696855009866","lon":"-50.09765625"}],[{"lat":"-3.688855143147","lon":"-39.111328125"}],[{"lat":"-22.755920681486","lon":"-50.625"}],[{"lat":"-8.4941045375519","lon":"-55.986328125"}],[{"lat":"-6.0531612957141","lon":"-41.484375"}],[{"lat":"-3.688855143147","lon":"-49.7021484375"}],[{"lat":"-9.6657383951887","lon":"-62.841796875"}],[{"lat":"-20.509354588715","lon":"-48.8232421875"}],[{"lat":"-11.953349393643","lon":"-53.7451171875"}],[{"lat":"-12.382928338487","lon":"-58.623046875"}],[{"lat":"-1.6257583604128","lon":"-47.900390625"}],[{"lat":"-4.3902289264634","lon":"-66.62109375"}],[{"lat":"-5.1347146340144","lon":"-53.0859375"}],[{"lat":"-19.186677697958","lon":"-47.373046875"}],[{"lat":"-12.554563528594","lon":"-42.099609375"}],[{"lat":"-23.563987128451","lon":"-51.3720703125"}],[{"lat":"-20.014645445341","lon":"-47.1533203125"}],[{"lat":"-1.801460929468","lon":"-50.009765625"}],[{"lat":"-8.7113588754265","lon":"-45.4833984375"}],[{"lat":"-3.644999800892","lon":"-41.0009765625"}],[{"lat":"-0.87887178283241","lon":"-68.4228515625"}],[{"lat":"-3.4695573030615","lon":"-57.744140625"}],[{"lat":"-11.953349393643","lon":"-42.275390625"}],[{"lat":"-3.4695573030615","lon":"-60.9521484375"}],[{"lat":"-4.5654735507103","lon":"-44.296875"}],[{"lat":"-17.895114303749","lon":"-46.0986328125"}],[{"lat":"-0.4833927027897","lon":"-56.1181640625"}],[{"lat":"-12.726084296948","lon":"-38.8037109375"}],[{"lat":"-20.756113874762","lon":"-48.251953125"}],[{"lat":"-15.538375926292","lon":"-55.107421875"}],[{"lat":"-5.0909441750334","lon":"-69.9169921875"}]]});
	allCoordinates['la1'] = new Array({"coordinates":[[{"lat":"-7.1008926686236","lon":"-77.607421875"}],[{"lat":"19.476950206488","lon":"-90.52734375"}],[{"lat":"20.468189222641","lon":"-103.88671875"}],[{"lat":"20.632784250388","lon":"-98.61328125"}],[{"lat":"6.1405547824503","lon":"-61.787109375"}],[{"lat":"23.885837699862","lon":"-102.3046875"}],[{"lat":"11.005904459659","lon":"-70.224609375"}],[{"lat":"20.385825381874","lon":"-70.751953125"}],[{"lat":"-1.6696855009866","lon":"-76.904296875"}],[{"lat":"-14.349547837185","lon":"-74.970703125"}],[{"lat":"22.593726063929","lon":"-76.904296875"}],[{"lat":"0.087890590530824","lon":"-77.6953125"}],[{"lat":"22.187404991399","lon":"-103.095703125"}],[{"lat":"15.114552871944","lon":"-83.759765625"}],[{"lat":"29.688052749857","lon":"-101.42578125"}],[{"lat":"7.188100871179","lon":"-75.146484375"}],[{"lat":"2.7235830833484","lon":"-73.037109375"}],[{"lat":"20.220965779522","lon":"-88.06640625"}],[{"lat":"25.165173368664","lon":"-108.193359375"}],[{"lat":"28.921631282421","lon":"-106.34765625"}],[{"lat":"3.9519408561576","lon":"-69.2578125"}],[{"lat":"19.890723023997","lon":"-91.58203125"}],[{"lat":"18.229351338387","lon":"-98.876953125"}],[{"lat":"0.87887178283243","lon":"-75.5859375"}],[{"lat":"12.125264218332","lon":"-78.92578125"}],[{"lat":"-12.125264218332","lon":"-71.19140625"}],[{"lat":"-5.441022303718","lon":"-75.322265625"}],[{"lat":"2.9869273933349","lon":"-56.07421875"}],[{"lat":"-1.2303741774326","lon":"-79.189453125"}],[{"lat":"-0.5273363048115","lon":"-67.67578125"}],[{"lat":"32.026706293336","lon":"-115.13671875"}],[{"lat":"10.401377554544","lon":"-68.90625"}],[{"lat":"30.069093964439","lon":"-111.708984375"}],[{"lat":"23.644524198574","lon":"-80.595703125"}],[{"lat":"29.764377375163","lon":"-106.435546875"}],[{"lat":"18.979025953255","lon":"-88.681640625"}],[{"lat":"13.923403897723","lon":"-78.134765625"}],[{"lat":"8.7547947024356","lon":"-74.70703125"}],[{"lat":"20.385825381874","lon":"-88.857421875"}],[{"lat":"11.436955216143","lon":"-73.388671875"}],[{"lat":"14.179186142354","lon":"-87.1875"}],[{"lat":"30.751277776258","lon":"-107.05078125"}],[{"lat":"13.838079936422","lon":"-86.044921875"}],[{"lat":"28.149503211545","lon":"-105.46875"}],[{"lat":"9.1888700844734","lon":"-67.587890625"}],[{"lat":"19.559790136497","lon":"-96.064453125"}],[{"lat":"6.4899833326707","lon":"-75.146484375"}],[{"lat":"8.4941045375519","lon":"-72.685546875"}],[{"lat":"-7.0136679275666","lon":"-73.125"}],[{"lat":"6.31529853833","lon":"-74.00390625"}],[{"lat":"9.0153023334206","lon":"-68.994140625"}],[{"lat":"-13.410994034322","lon":"-71.89453125"}],[{"lat":"17.392579271058","lon":"-92.021484375"}],[{"lat":"20.550508894196","lon":"-68.291015625"}],[{"lat":"6.4026484059639","lon":"-65.654296875"}],[{"lat":"22.02454560124","lon":"-103.623046875"}],[{"lat":"23.966175871265","lon":"-82.44140625"}],[{"lat":"10.055402736564","lon":"-74.70703125"}],[{"lat":"28.613459424004","lon":"-101.6015625"}],[{"lat":"25.641526373066","lon":"-98.173828125"}],[{"lat":"1.4061088354352","lon":"-77.255859375"}],[{"lat":"-6.4899833326707","lon":"-71.19140625"}],[{"lat":"-1.5818302639606","lon":"-71.455078125"}],[{"lat":"26.82407078047","lon":"-106.171875"}],[{"lat":"5.9657536710655","lon":"-75.9375"}],[{"lat":"21.043491216804","lon":"-98.96484375"}],[{"lat":"18.979025953255","lon":"-96.50390625"}],[{"lat":"29.152161283319","lon":"-113.73046875"}],[{"lat":"21.698265496853","lon":"-87.099609375"}],[{"lat":"18.729501999072","lon":"-88.857421875"}],[{"lat":"16.467694748289","lon":"-92.724609375"}],[{"lat":"31.203404950917","lon":"-115.400390625"}],[{"lat":"32.398515802474","lon":"-92.373046875"}],[{"lat":"18.229351338387","lon":"-93.8671875"}],[{"lat":"8.4941045375519","lon":"-67.587890625"}],[{"lat":"7.3624668655358","lon":"-61.083984375"}],[{"lat":"22.593726063929","lon":"-79.98046875"}],[{"lat":"-5.6159858191553","lon":"-78.3984375"}],[{"lat":"1.9332268264771","lon":"-75.41015625"}],[{"lat":"7.1008926686237","lon":"-60.205078125"}],[{"lat":"21.534847002049","lon":"-87.36328125"}],[{"lat":"5.5285105256928","lon":"-76.46484375"}],[{"lat":"18.646245142671","lon":"-98.96484375"}],[{"lat":"4.4778564855706","lon":"-55.1953125"}],[{"lat":"-14.179186142354","lon":"-71.455078125"}],[{"lat":"27.761329874505","lon":"-102.48046875"}],[{"lat":"33.137551192346","lon":"-99.228515625"}],[{"lat":"19.642587534013","lon":"-96.50390625"}],[{"lat":"26.273714024406","lon":"-100.810546875"}],[{"lat":"4.4778564855706","lon":"-68.02734375"}],[{"lat":"31.128199299112","lon":"-97.470703125"}],[{"lat":"30.221101852486","lon":"-107.2265625"}],[{"lat":"9.1020967387265","lon":"-79.541015625"}],[{"lat":"19.725342248058","lon":"-103.447265625"}],[{"lat":"14.859850400601","lon":"-85.869140625"}],[{"lat":"0.52733630481152","lon":"-60.908203125"}]]});
	allCoordinates['la2'] = new Array({"coordinates":[[{"lat":"-37.370157184058","lon":"-70.927734375"}],[{"lat":"-25.085598897065","lon":"-69.2578125"}],[{"lat":"-30.82678090478","lon":"-58.798828125"}],[{"lat":"-27.683528083788","lon":"-69.521484375"}],[{"lat":"-30.60009387355","lon":"-64.6875"}],[{"lat":"-28.690587654251","lon":"-52.734375"}],[{"lat":"-35.603718740697","lon":"-70.3125"}],[{"lat":"-49.15296965617","lon":"-70.224609375"}],[{"lat":"-37.300275281344","lon":"-64.6875"}],[{"lat":"-27.527758206862","lon":"-58.271484375"}],[{"lat":"-11.781325296112","lon":"-67.236328125"}],[{"lat":"-27.21555620903","lon":"-63.720703125"}],[{"lat":"-24.84656534822","lon":"-68.818359375"}],[{"lat":"-24.766784522874","lon":"-67.67578125"}],[{"lat":"-30.221101852486","lon":"-58.18359375"}],[{"lat":"-13.239945499286","lon":"-66.533203125"}],[{"lat":"-33.358061612779","lon":"-68.73046875"}],[{"lat":"-33.211116472417","lon":"-67.412109375"}],[{"lat":"-30.977609093349","lon":"-67.5"}],[{"lat":"-51.618016548774","lon":"-71.279296875"}],[{"lat":"-17.224758206625","lon":"-63.896484375"}],[{"lat":"-23.483400654326","lon":"-59.326171875"}],[{"lat":"-12.039320557541","lon":"-66.97265625"}],[{"lat":"-20.303417518489","lon":"-69.08203125"}],[{"lat":"-32.620870183181","lon":"-67.412109375"}],[{"lat":"-31.203404950917","lon":"-58.798828125"}],[{"lat":"-30.448673679288","lon":"-58.447265625"}],[{"lat":"-24.287026865376","lon":"-65.390625"}],[{"lat":"-34.597041516144","lon":"-61.875"}],[{"lat":"-38.754083275791","lon":"-67.1484375"}],[{"lat":"-25.720735134412","lon":"-64.951171875"}],[{"lat":"-32.768800484882","lon":"-61.083984375"}],[{"lat":"-20.632784250388","lon":"-67.587890625"}],[{"lat":"-35.746512259919","lon":"-61.435546875"}],[{"lat":"-32.175612478499","lon":"-61.34765625"}],[{"lat":"-24.60706913771","lon":"-65.126953125"}],[{"lat":"-18.479609055832","lon":"-66.708984375"}],[{"lat":"-13.410994034322","lon":"-68.291015625"}],[{"lat":"-34.379712580462","lon":"-69.43359375"}],[{"lat":"-31.87755764334","lon":"-56.77734375"}],[{"lat":"-50.569282865582","lon":"-72.7734375"}],[{"lat":"-15.029685756556","lon":"-61.69921875"}],[{"lat":"-22.512556954051","lon":"-60.64453125"}],[{"lat":"-25.005972656239","lon":"-55.810546875"}],[{"lat":"-23.241346102386","lon":"-64.3359375"}],[{"lat":"-41.967659203678","lon":"-70.927734375"}],[{"lat":"-33.578014746144","lon":"-68.642578125"}],[{"lat":"-30.372875188118","lon":"-59.326171875"}],[{"lat":"-28.767659105691","lon":"-58.095703125"}],[{"lat":"-26.273714024406","lon":"-68.73046875"}],[{"lat":"-16.636191878398","lon":"-64.072265625"}],[{"lat":"-24.686952411999","lon":"-62.666015625"}],[{"lat":"-29.228890030194","lon":"-56.6015625"}],[{"lat":"-19.228176737766","lon":"-68.02734375"}],[{"lat":"-24.126701958682","lon":"-63.017578125"}],[{"lat":"-53.85252660045","lon":"-70.13671875"}],[{"lat":"-18.646245142671","lon":"-67.236328125"}],[{"lat":"-25.958044673318","lon":"-64.51171875"}],[{"lat":"-42.811521745098","lon":"-69.9609375"}],[{"lat":"-33.211116472417","lon":"-60.908203125"}],[{"lat":"-28.304380682963","lon":"-53.26171875"}],[{"lat":"-30.751277776258","lon":"-57.216796875"}],[{"lat":"-41.967659203678","lon":"-71.279296875"}]]});
	allCoordinates['na1'] = new Array({"coordinates":[[{"lat":"54.521081495444","lon":"-126.5625"}],[{"lat":"43.325177679993","lon":"-106.5234375"}],[{"lat":"45.213003555994","lon":"-104.3701171875"}],[{"lat":"31.989441837923","lon":"-83.3642578125"}],[{"lat":"37.996162679728","lon":"-91.8017578125"}],[{"lat":"46.67959446564","lon":"-112.939453125"}],[{"lat":"42.358543917497","lon":"-107.666015625"}],[{"lat":"39.266284422131","lon":"-78.0908203125"}],[{"lat":"32.472695022062","lon":"-95.537109375"}],[{"lat":"43.644025847699","lon":"-73.9599609375"}],[{"lat":"38.307180561883","lon":"-98.876953125"}],[{"lat":"32.398515802474","lon":"-96.767578125"}],[{"lat":"47.129950756663","lon":"-123.0029296875"}],[{"lat":"62.390369438143","lon":"-145.107421875"}],[{"lat":"47.129950756663","lon":"-99.4921875"}],[{"lat":"44.402391829094","lon":"-70.83984375"}],[{"lat":"30.183121842196","lon":"-95.712890625"}],[{"lat":"50.457504020421","lon":"-100.283203125"}],[{"lat":"52.643063436659","lon":"-90.87890625"}],[{"lat":"60.457217797744","lon":"-138.603515625"}],[{"lat":"33.211116472417","lon":"-87.5390625"}],[{"lat":"43.452918893555","lon":"-80.4638671875"}],[{"lat":"56.121060425044","lon":"-122.783203125"}],[{"lat":"42.423456517938","lon":"-89.6044921875"}],[{"lat":"36.27970720524","lon":"-96.943359375"}],[{"lat":"32.101189732321","lon":"-109.86328125"}],[{"lat":"55.028022112993","lon":"-118.740234375"}],[{"lat":"41.738528469359","lon":"-79.5849609375"}],[{"lat":"53.22576843579","lon":"-109.775390625"}],[{"lat":"57.231502991479","lon":"-128.3203125"}],[{"lat":"41.771311679764","lon":"-91.7138671875"}],[{"lat":"30.562260950499","lon":"-82.08984375"}],[{"lat":"37.160316546737","lon":"-110.91796875"}],[{"lat":"50.680797145322","lon":"-59.4140625"}],[{"lat":"60.630101766267","lon":"-154.6875"}],[{"lat":"41.376808565702","lon":"-79.365234375"}],[{"lat":"47.694974341863","lon":"-118.125"}],[{"lat":"46.86019101567","lon":"-109.86328125"}],[{"lat":"43.897892391258","lon":"-122.51953125"}],[{"lat":"31.353636941501","lon":"-103.18359375"}],[{"lat":"34.198173096277","lon":"-88.505859375"}],[{"lat":"60.500525410511","lon":"-125.068359375"}],[{"lat":"57.373938418714","lon":"-115.3125"}],[{"lat":"34.813803317113","lon":"-110.390625"}],[{"lat":"45.583289756006","lon":"-68.02734375"}],[{"lat":"58.124319605694","lon":"-114.609375"}],[{"lat":"40.010787140466","lon":"-74.443359375"}],[{"lat":"55.429013452407","lon":"-116.89453125"}],[{"lat":"49.951219908662","lon":"-88.59375"}],[{"lat":"43.004647127794","lon":"-114.345703125"}],[{"lat":"62.021528191008","lon":"-124.892578125"}],[{"lat":"41.771311679764","lon":"-112.763671875"}],[{"lat":"44.871442750166","lon":"-62.490234375"}],[{"lat":"54.418929968658","lon":"-62.666015625"}],[{"lat":"35.281500657891","lon":"-93.603515625"}],[{"lat":"37.822802433528","lon":"-87.275390625"}],[{"lat":"50.680797145322","lon":"-120.5859375"}],[{"lat":"40.111688665596","lon":"-83.14453125"}],[{"lat":"36.985003092856","lon":"-88.5498046875"}],[{"lat":"63.470144746565","lon":"-139.130859375"}],[{"lat":"43.452918893555","lon":"-74.00390625"}],[{"lat":"43.325177679993","lon":"-93.8671875"}],[{"lat":"40.880294805528","lon":"-121.552734375"}],[{"lat":"26.82407078047","lon":"-81.2109375"}],[{"lat":"58.995311187951","lon":"-133.9453125"}],[{"lat":"46.407563966301","lon":"-122.2119140625"}],[{"lat":"48.136766679693","lon":"-89.7802734375"}],[{"lat":"39.707186656827","lon":"-84.287109375"}],[{"lat":"41.574361305989","lon":"-93.603515625"}],[{"lat":"43.357138222111","lon":"-99.404296875"}],[{"lat":"37.335224359306","lon":"-80.595703125"}],[{"lat":"34.27083595165","lon":"-105.46875"}],[{"lat":"36.491973470594","lon":"-118.5205078125"}],[{"lat":"30.486550842588","lon":"-90.2197265625"}],[{"lat":"59.08573856982","lon":"-73.4765625"}],[{"lat":"33.906895551289","lon":"-97.294921875"}],[{"lat":"34.813803317113","lon":"-115.7080078125"}],[{"lat":"50.289339253292","lon":"-98.26171875"}],[{"lat":"34.016241889667","lon":"-107.9296875"}],[{"lat":"40.111688665596","lon":"-81.298828125"}],[{"lat":"61.522694945984","lon":"-109.16015625"}],[{"lat":"58.170702483486","lon":"-105.205078125"}],[{"lat":"41.640078384679","lon":"-116.3671875"}],[{"lat":"49.781264058178","lon":"-103.7548828125"}],[{"lat":"46.498392258598","lon":"-72.0703125"}],[{"lat":"53.904338156275","lon":"-104.94140625"}],[{"lat":"33.247875947924","lon":"-101.5576171875"}],[{"lat":"41.574361305989","lon":"-80.1123046875"}],[{"lat":"61.143235250841","lon":"-126.298828125"}],[{"lat":"45.614037411351","lon":"-73.7841796875"}],[{"lat":"47.129950756663","lon":"-105.3369140625"}],[{"lat":"36.456636011596","lon":"-105.732421875"}],[{"lat":"33.100745405144","lon":"-91.3623046875"}],[{"lat":"53.5403073915","lon":"-115.3125"}],[{"lat":"62.390369438143","lon":"-151.083984375"}],[{"lat":"31.802892586707","lon":"-91.142578125"}],[{"lat":"52.268157373768","lon":"-105.908203125"}],[{"lat":"37.509725842938","lon":"-93.8671875"}],[{"lat":"37.370157184058","lon":"-112.060546875"}],[{"lat":"43.707593504053","lon":"-103.974609375"}],[{"lat":"43.707593504053","lon":"-120.76171875"}],[{"lat":"48.429200555568","lon":"-123.7060546875"}],[{"lat":"54.775345859364","lon":"-120.05859375"}],[{"lat":"42.455887641972","lon":"-78.0029296875"}],[{"lat":"43.452918893555","lon":"-80.15625"}],[{"lat":"32.249974455863","lon":"-116.455078125"}],[{"lat":"53.488045536056","lon":"-90.966796875"}],[{"lat":"57.040729838361","lon":"-102.392578125"}],[{"lat":"29.113775395114","lon":"-81.9140625"}],[{"lat":"37.439974052271","lon":"-111.708984375"}],[{"lat":"58.124319605694","lon":"-121.11328125"}],[{"lat":"46.134170046243","lon":"-101.07421875"}],[{"lat":"42.779275360242","lon":"-84.1552734375"}],[{"lat":"45.213003555994","lon":"-87.626953125"}],[{"lat":"43.644025847699","lon":"-93.251953125"}],[{"lat":"34.23451236237","lon":"-102.6123046875"}],[{"lat":"38.307180561883","lon":"-107.0947265625"}],[{"lat":"34.415973384482","lon":"-78.5302734375"}],[{"lat":"44.182203957716","lon":"-93.5595703125"}],[{"lat":"44.715513732021","lon":"-76.2451171875"}],[{"lat":"45.706179285331","lon":"-121.025390625"}],[{"lat":"34.016241889667","lon":"-115.13671875"}],[{"lat":"32.361403315275","lon":"-112.8076171875"}],[{"lat":"37.195330582801","lon":"-79.0576171875"}],[{"lat":"44.590467181309","lon":"-64.6875"}],[{"lat":"31.128199299112","lon":"-98.7451171875"}],[{"lat":"35.173808318","lon":"-112.67578125"}],[{"lat":"57.938183012205","lon":"-122.080078125"}],[{"lat":"40.913512576128","lon":"-114.43359375"}],[{"lat":"52.052490476001","lon":"-117.333984375"}],[{"lat":"42.228517356209","lon":"-110.478515625"}],[{"lat":"44.995882618165","lon":"-71.19140625"}],[{"lat":"32.361403315275","lon":"-88.9013671875"}],[{"lat":"44.964797930331","lon":"-96.5478515625"}],[{"lat":"43.580390855608","lon":"-90.17578125"}],[{"lat":"29.764377375163","lon":"-82.529296875"}],[{"lat":"40.245991504199","lon":"-101.162109375"}],[{"lat":"27.449790329784","lon":"-81.298828125"}],[{"lat":"44.840290651398","lon":"-111.4892578125"}],[{"lat":"54.418929968658","lon":"-110.654296875"}],[{"lat":"36.102376448736","lon":"-93.8671875"}],[{"lat":"45.644768217752","lon":"-120.41015625"}],[{"lat":"40.111688665596","lon":"-63.45703125"}],[{"lat":"44.684277371812","lon":"-115.6201171875"}],[{"lat":"39.027718840212","lon":"-77.080078125"}],[{"lat":"58.90464570302","lon":"-107.75390625"}],[{"lat":"47.694974341863","lon":"-107.40234375"}],[{"lat":"37.509725842938","lon":"-118.4765625"}],[{"lat":"30.145127183376","lon":"-92.3291015625"}],[{"lat":"44.715513732021","lon":"-74.619140625"}],[{"lat":"39.842286020743","lon":"-90.263671875"}],[{"lat":"47.901613541421","lon":"-104.4140625"}],[{"lat":"29.228890030194","lon":"-97.91015625"}],[{"lat":"43.484812128916","lon":"-95.80078125"}],[{"lat":"36.208823092837","lon":"-81.2548828125"}],[{"lat":"56.365250136856","lon":"-130.078125"}],[{"lat":"34.052659421376","lon":"-114.2578125"}],[{"lat":"43.357138222111","lon":"-72.59765625"}],[{"lat":"49.951219908662","lon":"-108.984375"}],[{"lat":"33.541394668983","lon":"-85.078125"}],[{"lat":"37.509725842938","lon":"-115.6640625"}],[{"lat":"40.880294805528","lon":"-74.53125"}],[{"lat":"43.897892391258","lon":"-121.376953125"}],[{"lat":"54.876606654109","lon":"-105.8203125"}],[{"lat":"38.444984668895","lon":"-93.955078125"}],[{"lat":"43.96119063892","lon":"-91.494140625"}],[{"lat":"40.279525668813","lon":"-86.8798828125"}],[{"lat":"46.498392258598","lon":"-116.4990234375"}],[{"lat":"51.563412328676","lon":"-124.1015625"}],[{"lat":"50.176898122001","lon":"-102.919921875"}],[{"lat":"38.685509760012","lon":"-103.447265625"}],[{"lat":"39.571822237344","lon":"-114.78515625"}],[{"lat":"43.389081939117","lon":"-75.849609375"}],[{"lat":"42.195968776292","lon":"-107.0947265625"}],[{"lat":"62.714462101498","lon":"-122.87109375"}],[{"lat":"42.000325148316","lon":"-78.046875"}],[{"lat":"32.398515802474","lon":"-83.3642578125"}],[{"lat":"49.15296965617","lon":"-101.337890625"}],[{"lat":"46.980252355219","lon":"-65.0390625"}],[{"lat":"35.889050079361","lon":"-83.3203125"}],[{"lat":"59.265880628258","lon":"-112.1484375"}],[{"lat":"26.155437968714","lon":"-80.859375"}],[{"lat":"57.751075981321","lon":"-132.275390625"}],[{"lat":"41.376808565702","lon":"-97.822265625"}],[{"lat":"36.244273184939","lon":"-101.162109375"}],[{"lat":"61.227957176678","lon":"-131.220703125"}],[{"lat":"39.232253141715","lon":"-119.619140625"}],[{"lat":"42.84375132629","lon":"-82.44140625"}],[{"lat":"60.844910573649","lon":"-136.23046875"}],[{"lat":"63.352129285079","lon":"-134.47265625"}],[{"lat":"50.401515322782","lon":"-111.181640625"}],[{"lat":"54.572061655659","lon":"-100.8984375"}],[{"lat":"40.245991504199","lon":"-117.861328125"}],[{"lat":"39.740986355884","lon":"-82.3095703125"}],[{"lat":"42.972501586026","lon":"-115.6640625"}],[{"lat":"45.182036837016","lon":"-121.81640625"}],[{"lat":"47.219568112315","lon":"-119.53125"}],[{"lat":"40.647303562523","lon":"-122.34375"}],[{"lat":"43.897892391258","lon":"-114.169921875"}],[{"lat":"45.460130637921","lon":"-70.0927734375"}]]});   
	allCoordinates['eun1'] = new Array({"coordinates":[[{"lat":"66.231457478626","lon":"15.029296875"}],[{"lat":"55.128649068489","lon":"9.228515625"}],[{"lat":"51.99841038239","lon":"22.236328125"}],[{"lat":"63.352129285079","lon":"25.13671875"}],[{"lat":"69.657086273012","lon":"25.400390625"}],[{"lat":"42.940339233632","lon":"25.576171875"}],[{"lat":"61.980267265044","lon":"24.9609375"}],[{"lat":"47.576525713746","lon":"23.37890625"}],[{"lat":"62.512317938387","lon":"8.7890625"}],[{"lat":"65.946471776157","lon":"28.65234375"}],[{"lat":"67.204032343401","lon":"29.794921875"}],[{"lat":"49.610709938074","lon":"31.2890625"}],[{"lat":"48.980216985375","lon":"32.783203125"}],[{"lat":"47.872143968887","lon":"21.796875"}],[{"lat":"56.656226493502","lon":"22.8515625"}],[{"lat":"70.170200685492","lon":"27.421875"}],[{"lat":"57.562995459387","lon":"25.927734375"}],[{"lat":"65.293467801076","lon":"15.205078125"}],[{"lat":"63.898730815244","lon":"25.048828125"}],[{"lat":"66.548263462174","lon":"29.8828125"}],[{"lat":"46.437856895024","lon":"23.642578125"}],[{"lat":"50.289339253292","lon":"29.619140625"}],[{"lat":"48.806863461085","lon":"21.181640625"}],[{"lat":"68.528234920399","lon":"23.90625"}],[{"lat":"69.005675196588","lon":"23.466796875"}],[{"lat":"64.960766321499","lon":"26.806640625"}],[{"lat":"54.059387886624","lon":"23.291015625"}],[{"lat":"56.897003921273","lon":"24.2578125"}],[{"lat":"66.407955479788","lon":"27.59765625"}],[{"lat":"47.517200697839","lon":"14.501953125"}],[{"lat":"60.586967342259","lon":"6.85546875"}],[{"lat":"51.727028157048","lon":"21.357421875"}],[{"lat":"46.316584181822","lon":"24.9609375"}],[{"lat":"61.564573885155","lon":"22.939453125"}],[{"lat":"63.391521744009","lon":"34.27734375"}],[{"lat":"61.396718873104","lon":"7.20703125"}],[{"lat":"46.3772542051","lon":"16.611328125"}],[{"lat":"55.973798205077","lon":"24.2578125"}],[{"lat":"66.826520274975","lon":"21.357421875"}],[{"lat":"61.773122864531","lon":"10.01953125"}],[{"lat":"64.129783676426","lon":"25.6640625"}],[{"lat":"60.020952153748","lon":"15.99609375"}],[{"lat":"63.154355196592","lon":"12.48046875"}],[{"lat":"57.797943884983","lon":"14.326171875"}],[{"lat":"60.887700042078","lon":"14.853515625"}],[{"lat":"64.320871579903","lon":"13.7109375"}],[{"lat":"53.22576843579","lon":"20.126953125"}],[{"lat":"40.97989806962","lon":"20.7421875"}],[{"lat":"58.401711667608","lon":"13.7109375"}],[{"lat":"62.103882522898","lon":"9.580078125"}],[{"lat":"67.135829385319","lon":"18.544921875"}],[{"lat":"56.511017504952","lon":"24.9609375"}],[{"lat":"58.124319605694","lon":"14.853515625"}],[{"lat":"63.27318217465","lon":"11.865234375"}],[{"lat":"47.872143968887","lon":"30.234375"}],[{"lat":"54.572061655659","lon":"20.91796875"}],[{"lat":"67.407487246488","lon":"33.046875"}],[{"lat":"55.279115292016","lon":"23.203125"}],[{"lat":"64.282759528234","lon":"27.59765625"}],[{"lat":"49.38237278701","lon":"29.8828125"}],[{"lat":"60.500525410511","lon":"8.0859375"}],[{"lat":"61.648162458524","lon":"8.173828125"}],[{"lat":"61.227957176678","lon":"23.291015625"}],[{"lat":"65.874724670985","lon":"15.64453125"}],[{"lat":"63.154355196592","lon":"29.619140625"}],[{"lat":"43.325177679993","lon":"22.060546875"}],[{"lat":"68.815927133361","lon":"20.126953125"}],[{"lat":"49.49667452747","lon":"15.908203125"}],[{"lat":"54.876606654109","lon":"24.697265625"}],[{"lat":"62.062733258847","lon":"22.5"}],[{"lat":"53.904338156275","lon":"16.875"}],[{"lat":"51.99841038239","lon":"13.18359375"}],[{"lat":"44.653024159812","lon":"22.587890625"}],[{"lat":"65.256706493443","lon":"27.7734375"}],[{"lat":"39.774769485295","lon":"21.357421875"}],[{"lat":"48.166085419013","lon":"26.630859375"}],[{"lat":"52.214338608258","lon":"14.765625"}],[{"lat":"65.183030072914","lon":"26.982421875"}],[{"lat":"64.472793820082","lon":"12.392578125"}],[{"lat":"52.749593726741","lon":"18.369140625"}],[{"lat":"62.835089011423","lon":"23.642578125"}],[{"lat":"49.724479188713","lon":"33.92578125"}],[{"lat":"55.47885346331","lon":"23.73046875"}],[{"lat":"67.974633962048","lon":"19.423828125"}],[{"lat":"58.031372421776","lon":"13.7109375"}],[{"lat":"47.813154517528","lon":"29.794921875"}],[{"lat":"54.110942942724","lon":"21.796875"}],[{"lat":"49.15296965617","lon":"16.787109375"}],[{"lat":"53.173119202641","lon":"31.376953125"}],[{"lat":"50.569282865582","lon":"29.091796875"}],[{"lat":"55.578344672182","lon":"9.84375"}],[{"lat":"64.5861848034","lon":"15.908203125"}],[{"lat":"52.90890204777","lon":"16.69921875"}],[{"lat":"47.159840013044","lon":"25.400390625"}],[{"lat":"52.643063436659","lon":"29.794921875"}],[{"lat":"58.90464570302","lon":"31.552734375"}],[{"lat":"69.900117626685","lon":"24.9609375"}],[{"lat":"49.32512199104","lon":"30.146484375"}],[{"lat":"48.748945343433","lon":"27.861328125"}],[{"lat":"67.64267630796","lon":"16.259765625"}]]});
	allCoordinates['euw1'] = new Array({"coordinates":[[{"lat":"56.46249048389","lon":"-4.74609375"}],[{"lat":"53.278353017532","lon":"-1.669921875"}],[{"lat":"41.442726377672","lon":"-6.6796875"}],[{"lat":"48.574789910929","lon":"12.919921875"}],[{"lat":"52.696361078274","lon":"11.865234375"}],[{"lat":"53.956085530988","lon":"10.458984375"}],[{"lat":"46.498392258598","lon":"1.40625"}],[{"lat":"44.024421519659","lon":"20.21484375"}],[{"lat":"40.178873314347","lon":"-3.427734375"}],[{"lat":"49.21042044565","lon":"17.314453125"}],[{"lat":"50.064191736659","lon":"19.248046875"}],[{"lat":"46.498392258598","lon":"0.615234375"}],[{"lat":"47.694974341863","lon":"5.537109375"}],[{"lat":"51.618016548774","lon":"5.009765625"}],[{"lat":"49.267804550638","lon":"15.29296875"}],[{"lat":"53.120405283107","lon":"20.56640625"}],[{"lat":"39.504040705584","lon":"35.15625"}],[{"lat":"55.875310835697","lon":"-3.427734375"}],[{"lat":"41.705728515238","lon":"-6.943359375"}],[{"lat":"48.224672649565","lon":"0.87890625"}],[{"lat":"52.536273041459","lon":"6.943359375"}],[{"lat":"60.75915950227","lon":"8.26171875"}],[{"lat":"52.321910885948","lon":"9.580078125"}],[{"lat":"59.933000423746","lon":"8.26171875"}],[{"lat":"41.112468789181","lon":"15.908203125"}],[{"lat":"52.90890204777","lon":"8.61328125"}],[{"lat":"40.78054143186","lon":"14.94140625"}],[{"lat":"49.781264058178","lon":"18.017578125"}],[{"lat":"45.398449976304","lon":"8.173828125"}],[{"lat":"49.667627822622","lon":"18.720703125"}],[{"lat":"41.705728515238","lon":"26.982421875"}],[{"lat":"48.980216985375","lon":"5.009765625"}],[{"lat":"57.468589192089","lon":"-3.69140625"}],[{"lat":"51.344338660599","lon":"5.537109375"}],[{"lat":"59.040554616759","lon":"12.48046875"}],[{"lat":"43.06888777417","lon":"0.17578125"}],[{"lat":"43.325177679993","lon":"-0.791015625"}],[{"lat":"44.653024159812","lon":"21.357421875"}],[{"lat":"42.163403424224","lon":"-5.361328125"}],[{"lat":"42.811521745098","lon":"-6.240234375"}],[{"lat":"61.438767493683","lon":"10.107421875"}],[{"lat":"55.429013452407","lon":"-6.064453125"}],[{"lat":"51.781435604431","lon":"6.85546875"}],[{"lat":"42.09822241119","lon":"22.587890625"}],[{"lat":"37.78808138412","lon":"14.501953125"}],[{"lat":"41.967659203678","lon":"13.18359375"}],[{"lat":"47.75409797968","lon":"10.107421875"}],[{"lat":"48.458351882809","lon":"0"}],[{"lat":"53.014783245859","lon":"-8.4375"}],[{"lat":"52.855864177854","lon":"7.3828125"}],[{"lat":"44.715513732021","lon":"20.830078125"}],[{"lat":"48.458351882809","lon":"3.076171875"}],[{"lat":"52.052490476001","lon":"-0.87890625"}],[{"lat":"56.559482483762","lon":"14.501953125"}],[{"lat":"46.437856895024","lon":"13.798828125"}],[{"lat":"37.718590325588","lon":"29.70703125"}],[{"lat":"39.164141047687","lon":"33.310546875"}],[{"lat":"38.410558250946","lon":"-7.119140625"}],[{"lat":"52.696361078274","lon":"6.85546875"}],[{"lat":"53.067626642387","lon":"-2.021484375"}],[{"lat":"48.400032496107","lon":"19.51171875"}],[{"lat":"53.5403073915","lon":"8.96484375"}],[{"lat":"55.078367232015","lon":"9.931640625"}],[{"lat":"44.902577996289","lon":"26.19140625"}],[{"lat":"53.488045536056","lon":"17.314453125"}],[{"lat":"43.644025847699","lon":"20.830078125"}],[{"lat":"48.574789910929","lon":"12.216796875"}],[{"lat":"38.065392351332","lon":"29.443359375"}],[{"lat":"37.649034021579","lon":"-5.009765625"}],[{"lat":"54.927141864546","lon":"9.755859375"}],[{"lat":"43.2612061248","lon":"19.599609375"}],[{"lat":"39.571822237344","lon":"9.140625"}],[{"lat":"54.367758524068","lon":"-7.91015625"}],[{"lat":"49.951219908662","lon":"6.6796875"}],[{"lat":"53.85252660045","lon":"9.755859375"}],[{"lat":"48.166085419013","lon":"18.544921875"}],[{"lat":"47.338822694822","lon":"-1.23046875"}],[{"lat":"42.163403424224","lon":"-8.173828125"}],[{"lat":"41.771311679764","lon":"-1.58203125"}],[{"lat":"53.120405283107","lon":"-7.646484375"}]]});   		
	allCoordinates['ru'] = new Array({"coordinates":[[{"lat":"56.740674354753","lon":"99.404296875"}],[{"lat":"58.76820015924","lon":"44.208984375"}],[{"lat":"50.792047064407","lon":"40.78125"}],[{"lat":"55.702355093271","lon":"38.4521484375"}],[{"lat":"62.021528191008","lon":"102.3046875"}],[{"lat":"67.609220604964","lon":"94.130859375"}],[{"lat":"54.470037612806","lon":"54.228515625"}],[{"lat":"63.391521744009","lon":"82.6171875"}],[{"lat":"63.154355196592","lon":"119.1796875"}],[{"lat":"54.521081495444","lon":"96.96533203125"}],[{"lat":"63.937372467915","lon":"88.505859375"}],[{"lat":"57.30278965635","lon":"39.5947265625"}],[{"lat":"55.67758441109","lon":"89.6484375"}],[{"lat":"66.089364270471","lon":"81.7822265625"}],[{"lat":"62.042137703798","lon":"129.375"}],[{"lat":"54.648412502317","lon":"35.9912109375"}],[{"lat":"62.380184590391","lon":"97.734375"}],[{"lat":"55.078367232015","lon":"31.6845703125"}],[{"lat":"62.875188379933","lon":"42.451171875"}],[{"lat":"59.523175535448","lon":"29.90478515625"}],[{"lat":"62.754725927232","lon":"72.158203125"}],[{"lat":"54.876606654109","lon":"39.4189453125"}],[{"lat":"55.266598152312","lon":"83.111572265625"}],[{"lat":"63.114637632521","lon":"60.29296875"}],[{"lat":"56.704505614169","lon":"36.62841796875"}],[{"lat":"55.053202585371","lon":"37.28759765625"}],[{"lat":"60.962443747345","lon":"68.66455078125"}],[{"lat":"64.129783676426","lon":"156.181640625"}],[{"lat":"52.961875059076","lon":"67.5"}],[{"lat":"52.981723223907","lon":"86.02294921875"}],[{"lat":"58.950008233357","lon":"50.09765625"}],[{"lat":"55.090943622279","lon":"38.0126953125"}],[{"lat":"54.876606654109","lon":"52.646484375"}],[{"lat":"63.898730815244","lon":"95.537109375"}],[{"lat":"57.088515327887","lon":"102.65625"}],[{"lat":"60.370429016315","lon":"149.9853515625"}],[{"lat":"65.694475793734","lon":"61.69921875"}],[{"lat":"55.354135310211","lon":"41.572265625"}],[{"lat":"54.901882187385","lon":"37.5732421875"}],[{"lat":"62.714462101498","lon":"108.45703125"}],[{"lat":"68.752314944345","lon":"83.84765625"}],[{"lat":"55.67758441109","lon":"60.8203125"}],[{"lat":"52.321910885948","lon":"41.923828125"}],[{"lat":"69.426690529672","lon":"155.478515625"}],[{"lat":"65.127637956521","lon":"48.9990234375"}],[{"lat":"61.396718873104","lon":"71.9384765625"}],[{"lat":"57.610107020684","lon":"67.587890625"}],[{"lat":"55.92458580483","lon":"112.412109375"}],[{"lat":"57.868131763329","lon":"60.46875"}],[{"lat":"56.836954351961","lon":"38.56201171875"}],[{"lat":"56.182253878248","lon":"39.70458984375"}],[{"lat":"54.399748155638","lon":"83.309326171875"}],[{"lat":"54.749990970227","lon":"101.5576171875"}],[{"lat":"61.396718873104","lon":"40.166015625"}],[{"lat":"58.077876267875","lon":"79.98046875"}],[{"lat":"57.762798659441","lon":"79.541015625"}],[{"lat":"51.508742458803","lon":"41.1328125"}],[{"lat":"55.028022112993","lon":"53.701171875"}],[{"lat":"53.330872983017","lon":"57.216796875"}],[{"lat":"61.143235250841","lon":"75.65185546875"}],[{"lat":"59.175928249271","lon":"55.9423828125"}],[{"lat":"72.073911488204","lon":"97.55859375"}],[{"lat":"52.882391222262","lon":"40.3857421875"}],[{"lat":"59.175928249271","lon":"101.07421875"}],[{"lat":"56.108810038002","lon":"37.55126953125"}],[{"lat":"60.403001945866","lon":"33.7939453125"}],[{"lat":"56.523139564372","lon":"85.36376953125"}],[{"lat":"57.028773851491","lon":"36.123046875"}],[{"lat":"51.781435604431","lon":"39.2431640625"}],[{"lat":"57.868131763329","lon":"31.2890625"}],[{"lat":"61.143235250841","lon":"56.865234375"}],[{"lat":"60.930432202923","lon":"59.677734375"}],[{"lat":"58.881942081359","lon":"30.73974609375"}],[{"lat":"52.895648662114","lon":"28.0810546875"}],[{"lat":"61.227957176678","lon":"63.5009765625"}],[{"lat":"60.630101766267","lon":"112.5"}],[{"lat":"66.231457478626","lon":"106.962890625"}],[{"lat":"63.074865690587","lon":"80.68359375"}],[{"lat":"65.512962553295","lon":"93.955078125"}],[{"lat":"61.480759500076","lon":"105.8203125"}],[{"lat":"59.377988012639","lon":"141.50390625"}],[{"lat":"65.874724670985","lon":"93.076171875"}],[{"lat":"60.608541760609","lon":"76.201171875"}],[{"lat":"66.12496236488","lon":"89.12109375"}],[{"lat":"70.005566545745","lon":"147.7001953125"}],[{"lat":"53.891391285753","lon":"41.41845703125"}],[{"lat":"59.355596110016","lon":"127.2216796875"}],[{"lat":"58.47072082412","lon":"63.6328125"}],[{"lat":"56.188367864753","lon":"84.61669921875"}],[{"lat":"58.332567131958","lon":"119.53125"}],[{"lat":"60.673178565818","lon":"82.6611328125"}],[{"lat":"55.627995954267","lon":"100.7666015625"}],[{"lat":"54.724620194924","lon":"77.958984375"}],[{"lat":"55.379110448011","lon":"37.06787109375"}],[{"lat":"56.752722872057","lon":"44.47265625"}],[{"lat":"53.014783245859","lon":"114.5654296875"}],[{"lat":"64.434892043041","lon":"54.2724609375"}],[{"lat":"55.578344672182","lon":"86.24267578125"}],[{"lat":"54.284468752355","lon":"86.693115234375"}],[{"lat":"62.59334083012","lon":"46.669921875"}],[{"lat":"57.279042764978","lon":"41.8798828125"}],[{"lat":"55.040614327717","lon":"41.77001953125"}],[{"lat":"67.033162790151","lon":"151.611328125"}],[{"lat":"56.897003921273","lon":"137.900390625"}],[{"lat":"61.280792811792","lon":"96.43798828125"}],[{"lat":"64.567319009882","lon":"77.87109375"}],[{"lat":"50.345460408605","lon":"47.4609375"}],[{"lat":"63.830979715382","lon":"99.404296875"}],[{"lat":"55.229023057406","lon":"43.681640625"}],[{"lat":"59.822731883774","lon":"30.38818359375"}],[{"lat":"62.754725927232","lon":"129.9462890625"}],[{"lat":"66.407955479788","lon":"103.271484375"}],[{"lat":"63.27318217465","lon":"90.8349609375"}],[{"lat":"61.627286461475","lon":"129.375"}],[{"lat":"56.944974180852","lon":"43.154296875"}],[{"lat":"53.094024055063","lon":"43.9013671875"}],[{"lat":"56.218923189167","lon":"37.880859375"}],[{"lat":"58.813741715708","lon":"130.78125"}],[{"lat":"60.844910573649","lon":"42.099609375"}],[{"lat":"53.507651285454","lon":"83.616943359375"}],[{"lat":"64.491725044355","lon":"89.384765625"}],[{"lat":"60.694695372877","lon":"66.46728515625"}],[{"lat":"59.277108010512","lon":"31.22314453125"}],[{"lat":"51.069016659604","lon":"104.501953125"}],[{"lat":"58.077876267875","lon":"92.63671875"}],[{"lat":"51.508742458803","lon":"50.185546875"}],[{"lat":"64.942160498207","lon":"138.5595703125"}],[{"lat":"67.339860825591","lon":"98.0859375"}],[{"lat":"63.821287652614","lon":"49.130859375"}],[{"lat":"56.656226493502","lon":"76.904296875"}],[{"lat":"53.579461493732","lon":"86.72607421875"}],[{"lat":"54.895564790773","lon":"82.59521484375"}],[{"lat":"62.062733258847","lon":"120.9814453125"}],[{"lat":"61.417750263521","lon":"129.19921875"}],[{"lat":"58.631216643425","lon":"53.876953125"}],[{"lat":"52.227799418871","lon":"31.728515625"}],[{"lat":"62.021528191008","lon":"157.587890625"}],[{"lat":"52.656393941988","lon":"33.9697265625"}],[{"lat":"56.680373789501","lon":"100.107421875"}],[{"lat":"61.814663894684","lon":"83.583984375"}],[{"lat":"55.949199823367","lon":"39.375"}],[{"lat":"55.078367232015","lon":"27.04833984375"}],[{"lat":"60.152442214381","lon":"75.234375"}],[{"lat":"60.020952153748","lon":"88.2861328125"}],[{"lat":"60.152442214381","lon":"51.591796875"}],[{"lat":"64.244594767982","lon":"129.55078125"}],[{"lat":"56.243349924105","lon":"41.7919921875"}],[{"lat":"57.29091812634","lon":"37.99072265625"}],[{"lat":"57.797943884983","lon":"57.83203125"}],[{"lat":"53.435719206694","lon":"107.40234375"}],[{"lat":"56.316536722113","lon":"95.009765625"}],[{"lat":"58.274843152138","lon":"31.39892578125"}],[{"lat":"59.712097173323","lon":"150.908203125"}],[{"lat":"63.154355196592","lon":"65.478515625"}],[{"lat":"70.318738478531","lon":"104.23828125"}],[{"lat":"52.025458603488","lon":"49.130859375"}],[{"lat":"52.961875059076","lon":"59.326171875"}],[{"lat":"62.633769607868","lon":"91.58203125"}],[{"lat":"64.052978380713","lon":"96.240234375"}],[{"lat":"57.727619216215","lon":"52.0751953125"}],[{"lat":"53.696706475303","lon":"49.7021484375"}],[{"lat":"56.413901376007","lon":"35.419921875"}],[{"lat":"58.459228692361","lon":"35.48583984375"}],[{"lat":"62.754725927232","lon":"89.296875"}],[{"lat":"62.995158452121","lon":"138.515625"}],[{"lat":"52.536273041459","lon":"103.5791015625"}],[{"lat":"60.239811169999","lon":"49.04296875"}],[{"lat":"55.640398956687","lon":"34.51904296875"}],[{"lat":"64.168106897992","lon":"69.697265625"}],[{"lat":"65.856756479093","lon":"74.70703125"}],[{"lat":"63.27318217465","lon":"73.212890625"}],[{"lat":"54.749990970227","lon":"38.056640625"}],[{"lat":"59.62332522313","lon":"69.2578125"}],[{"lat":"67.373697974366","lon":"87.5390625"}],[{"lat":"57.44494943584","lon":"59.58984375"}],[{"lat":"57.350237477397","lon":"46.8017578125"}],[{"lat":"56.944974180852","lon":"95.712890625"}],[{"lat":"66.998843791852","lon":"59.150390625"}],[{"lat":"55.634197946258","lon":"84.737548828125"}],[{"lat":"59.800634261029","lon":"94.39453125"}],[{"lat":"58.938673187948","lon":"33.15673828125"}],[{"lat":"62.175759620708","lon":"68.5107421875"}]]});
	allCoordinates['jp1'] = new Array({"coordinates":[[{"lat":"36.989390867339","lon":"138.78479003906"}],[{"lat":"33.358061612779","lon":"132.69287109375"}],[{"lat":"35.684071533141","lon":"140.33386230469"}],[{"lat":"34.755153088189","lon":"138.22448730469"}],[{"lat":"34.642247047769","lon":"132.25341796875"}],[{"lat":"36.346102653006","lon":"139.07592773438"}],[{"lat":"42.577354839558","lon":"142.53662109375"}],[{"lat":"33.829356907739","lon":"135.56030273438"}],[{"lat":"37.775056782405","lon":"139.32312011719"}],[{"lat":"32.805744732907","lon":"131.1767578125"}],[{"lat":"35.514343134318","lon":"137.65869140625"}],[{"lat":"35.380092992092","lon":"134.4287109375"}],[{"lat":"38.599700365888","lon":"140.10864257813"}],[{"lat":"40.572240117769","lon":"140.4931640625"}],[{"lat":"35.99578538642","lon":"136.45568847656"}],[{"lat":"38.56105262447","lon":"139.84497070313"}],[{"lat":"35.052483706625","lon":"137.51586914063"}],[{"lat":"35.133386854253","lon":"138.26843261719"}],[{"lat":"36.589068371399","lon":"138.2080078125"}],[{"lat":"38.069717033205","lon":"140.32287597656"}],[{"lat":"40.254376603727","lon":"140.59204101563"}],[{"lat":"35.110921809705","lon":"134.80224609375"}],[{"lat":"44.472991172603","lon":"141.97631835938"}],[{"lat":"35.523285179108","lon":"138.24096679688"}],[{"lat":"36.430122345516","lon":"139.96032714844"}],[{"lat":"33.541394668983","lon":"133.2421875"}],[{"lat":"35.375614131749","lon":"140.19653320313"}],[{"lat":"44.071800467512","lon":"142.36083984375"}],[{"lat":"34.948990725782","lon":"138.24096679688"}],[{"lat":"35.236646220932","lon":"133.5498046875"}],[{"lat":"33.856731529289","lon":"136.0107421875"}],[{"lat":"33.99347299512","lon":"135.92834472656"}],[{"lat":"33.742612777347","lon":"133.04443359375"}],[{"lat":"37.579412513438","lon":"140.88317871094"}],[{"lat":"34.288991865038","lon":"131.78100585938"}],[{"lat":"34.406909656521","lon":"132.07763671875"}],[{"lat":"35.946882932181","lon":"139.92736816406"}],[{"lat":"33.988918483762","lon":"133.97827148438"}],[{"lat":"36.284135327417","lon":"140.08117675781"}],[{"lat":"34.352506668676","lon":"136.53259277344"}],[{"lat":"34.384246040152","lon":"135.62622070313"}],[{"lat":"33.220307789685","lon":"130.078125"}],[{"lat":"36.00022956178","lon":"136.85119628906"}],[{"lat":"35.182788138002","lon":"140.10864257813"}],[{"lat":"34.597041516144","lon":"135.94482421875"}],[{"lat":"34.125447565116","lon":"134.14306640625"}],[{"lat":"36.05354012834","lon":"139.65270996094"}],[{"lat":"34.488447837809","lon":"136.0546875"}],[{"lat":"38.933775528197","lon":"140.82275390625"}],[{"lat":"34.930978588316","lon":"134.35180664063"}],[{"lat":"35.182788138002","lon":"133.97827148438"}],[{"lat":"36.478723811625","lon":"136.87316894531"}],[{"lat":"35.514343134318","lon":"138.84521484375"}],[{"lat":"32.55607364492","lon":"131.31958007813"}],[{"lat":"37.818463195113","lon":"140.35583496094"}],[{"lat":"34.921971036164","lon":"133.67065429688"}],[{"lat":"34.152726980118","lon":"135.53833007813"}],[{"lat":"31.821564514921","lon":"130.49560546875"}],[{"lat":"36.146746777814","lon":"139.5703125"}],[{"lat":"35.536698959206","lon":"139.09792470568"}],[{"lat":"35.648369157374","lon":"137.03247070313"}],[{"lat":"34.243594729697","lon":"135.3955078125"}],[{"lat":"35.07496485399","lon":"135.91186523438"}],[{"lat":"34.406909656521","lon":"132.06665039063"}],[{"lat":"34.912962495217","lon":"132.63793945313"}],[{"lat":"34.125447565116","lon":"131.37451171875"}],[{"lat":"35.630511983001","lon":"138.75732421875"}],[{"lat":"35.715298012125","lon":"139.31213378906"}],[{"lat":"35.608184904377","lon":"139.22424316406"}],[{"lat":"35.272531756602","lon":"136.97204589844"}],[{"lat":"33.321348526699","lon":"132.96752929688"}],[{"lat":"33.063924198121","lon":"130.67138671875"}],[{"lat":"35.612650818757","lon":"136.52709960938"}],[{"lat":"39.036252959637","lon":"141.1962890625"}],[{"lat":"38.311490912445","lon":"140.4052734375"}],[{"lat":"39.461643642055","lon":"141.56982421875"}],[{"lat":"41.787697005391","lon":"140.43823242188"}],[{"lat":"42.84375132629","lon":"141.3720703125"}],[{"lat":"39.240762510013","lon":"141.36108398438"}],[{"lat":"34.08906131585","lon":"134.3408203125"}],[{"lat":"32.426340161546","lon":"130.98999023438"}],[{"lat":"34.822822727237","lon":"135.99426269531"}],[{"lat":"34.894942447397","lon":"135.4833984375"}],[{"lat":"36.615527631349","lon":"139.9658203125"}],[{"lat":"35.402483564269","lon":"138.97705078125"}],[{"lat":"33.815666308703","lon":"133.681640625"}],[{"lat":"33.568861182556","lon":"130.71533203125"}],[{"lat":"34.288991865038","lon":"131.73706054688"}],[{"lat":"37.006939434186","lon":"140.83923339844"}],[{"lat":"43.596305915966","lon":"143.32763671875"}],[{"lat":"42.244785356028","lon":"140.0537109375"}],[{"lat":"40.488737421023","lon":"140.94360351563"}],[{"lat":"37.370157184058","lon":"140.38330078125"}],[{"lat":"35.277016331399","lon":"138.28491210938"}],[{"lat":"32.110495896294","lon":"131.31958007813"}],[{"lat":"36.518465989676","lon":"137.8564453125"}],[{"lat":"33.47727218776","lon":"130.60546875"}],[{"lat":"37.63598495427","lon":"139.00451660156"}],[{"lat":"35.795538497993","lon":"139.69665527344"}],[{"lat":"35.07496485399","lon":"135.91186523438"}],[{"lat":"36.00022956178","lon":"139.31213378906"}],[{"lat":"39.918162846609","lon":"140.47119140625"}],[{"lat":"40.313043208881","lon":"141.29516601563"}],[{"lat":"35.661759419295","lon":"139.41650390625"}],[{"lat":"34.093610452769","lon":"135.25817871094"}],[{"lat":"38.479394673276","lon":"140.537109375"}],[{"lat":"32.898038181605","lon":"130.94604492188"}],[{"lat":"35.795538497993","lon":"136.41174316406"}],[{"lat":"42.972501586026","lon":"142.39379882813"}],[{"lat":"37.391981943534","lon":"138.87817382813"}],[{"lat":"33.833919953655","lon":"133.16528320313"}],[{"lat":"39.563353165829","lon":"141.8994140625"}],[{"lat":"37.779398571319","lon":"139.03198242188"}],[{"lat":"33.063924198121","lon":"132.890625"}],[{"lat":"36.40802070383","lon":"139.9658203125"}],[{"lat":"35.326330263075","lon":"134.2529296875"}],[{"lat":"34.488447837809","lon":"136.0546875"}],[{"lat":"36.253133196991","lon":"137.80151367188"}],[{"lat":"34.944488062306","lon":"136.42272949219"}],[{"lat":"35.469617971202","lon":"136.86767578125"}],[{"lat":"36.694850941562","lon":"138.04321289063"}],[{"lat":"34.488447837809","lon":"132.626953125"}],[{"lat":"35.402483564269","lon":"135.88989257813"}],[{"lat":"36.191092021825","lon":"138.04321289063"}],[{"lat":"35.290468565909","lon":"136.49963378906"}],[{"lat":"33.696922692958","lon":"133.47290039063"}],[{"lat":"35.200744801724","lon":"137.79052734375"}],[{"lat":"35.128894341011","lon":"132.98950195313"}],[{"lat":"38.6511983323","lon":"141.064453125"}],[{"lat":"33.302986181224","lon":"130.18798828125"}],[{"lat":"34.894942447397","lon":"135.4833984375"}],[{"lat":"35.603718740697","lon":"139.41650390625"}],[{"lat":"36.971838250932","lon":"140.10314941406"}],[{"lat":"34.966998906704","lon":"135.25817871094"}],[{"lat":"34.741612498832","lon":"133.14331054688"}],[{"lat":"34.994003757576","lon":"137.16979980469"}],[{"lat":"36.425702520392","lon":"140.35583496094"}],[{"lat":"32.870360228084","lon":"131.63818359375"}],[{"lat":"43.237199443653","lon":"144.56909179688"}],[{"lat":"33.22949814145","lon":"131.3525390625"}],[{"lat":"34.63320791138","lon":"132.52807617188"}],[{"lat":"38.72837591824","lon":"140.185546875"}],[{"lat":"35.07496485399","lon":"135.91186523438"}],[{"lat":"32.203505345424","lon":"130.869140625"}],[{"lat":"34.876918445772","lon":"138.94409179688"}],[{"lat":"35.398005947151","lon":"135"}],[{"lat":"38.925229047141","lon":"140.39428710938"}],[{"lat":"43.381097587279","lon":"144.1845703125"}],[{"lat":"38.078365629967","lon":"139.54833984375"}]]});   		
	allCoordinates['tr1'] = new Array({"coordinates":[[{"lat":"39.1130136515","lon":"27.158203125"}],[{"lat":"38.61687046393","lon":"36.38671875"}],[{"lat":"41.853196437767","lon":"45.3076171875"}],[{"lat":"37.822802433528","lon":"35.26611328125"}],[{"lat":"41.14556973101","lon":"23.9501953125"}],[{"lat":"40.396764305572","lon":"47.04345703125"}],[{"lat":"37.370157184058","lon":"37.265625"}],[{"lat":"42.747012173181","lon":"34.78271484375"}],[{"lat":"40.78054143186","lon":"41.30859375"}],[{"lat":"41.475660200278","lon":"34.03564453125"}],[{"lat":"39.537939745176","lon":"41.044921875"}],[{"lat":"39.266284422131","lon":"36.49658203125"}],[{"lat":"39.30029918615","lon":"41.0009765625"}],[{"lat":"37.317751851637","lon":"40.14404296875"}],[{"lat":"39.402244340293","lon":"28.65234375"}],[{"lat":"40.847060356071","lon":"37.08984375"}],[{"lat":"36.89719446989","lon":"28.916015625"}],[{"lat":"40.044437584609","lon":"34.2333984375"}],[{"lat":"70.815812159313","lon":"-96.943359375"}],[{"lat":"43.06888777417","lon":"35.39794921875"}],[{"lat":"37.683820326694","lon":"43.681640625"}],[{"lat":"41.129021347495","lon":"47.109375"}],[{"lat":"39.571822237344","lon":"29.619140625"}],[{"lat":"41.162113939397","lon":"29.267578125"}],[{"lat":"41.211721510548","lon":"47.7685546875"}],[{"lat":"37.195330582801","lon":"34.12353515625"}],[{"lat":"41.393294288785","lon":"35.859375"}],[{"lat":"40.111688665596","lon":"31.376953125"}],[{"lat":"41.951319946797","lon":"34.16748046875"}],[{"lat":"40.530501775743","lon":"30.25634765625"}],[{"lat":"37.840156836041","lon":"37.63916015625"}],[{"lat":"40.81380923057","lon":"47.98828125"}],[{"lat":"40.54720023441","lon":"44.560546875"}],[{"lat":"37.230328387604","lon":"35.04638671875"}],[{"lat":"40.97989806962","lon":"43.2421875"}],[{"lat":"37.544577320856","lon":"43.57177734375"}],[{"lat":"41.112468789181","lon":"33.0908203125"}],[{"lat":"39.453161128074","lon":"35.44189453125"}],[{"lat":"40.880294805528","lon":"34.8046875"}],[{"lat":"36.27970720524","lon":"36.6064453125"}],[{"lat":"39.078908097065","lon":"48.427734375"}],[{"lat":"37.055177106661","lon":"39.66064453125"}],[{"lat":"39.97712009844","lon":"26.65283203125"}],[{"lat":"39.639537564367","lon":"30.05859375"}],[{"lat":"42.423456517938","lon":"41.7041015625"}],[{"lat":"40.480381429082","lon":"33.15673828125"}],[{"lat":"40.54720023441","lon":"32.16796875"}],[{"lat":"37.805443949343","lon":"41.66015625"}],[{"lat":"37.735969208591","lon":"44.93408203125"}],[{"lat":"38.307180561883","lon":"28.828125"}],[{"lat":"41.508577297439","lon":"33.662109375"}],[{"lat":"37.753344013107","lon":"23.1591796875"}],[{"lat":"41.244772343082","lon":"27.3779296875"}],[{"lat":"36.474306755095","lon":"36.62841796875"}],[{"lat":"39.232253141715","lon":"31.728515625"}],[{"lat":"37.718590325588","lon":"37.3095703125"}],[{"lat":"38.151837403007","lon":"35.79345703125"}],[{"lat":"37.00255267216","lon":"38.8916015625"}],[{"lat":"39.232253141715","lon":"40.8251953125"}],[{"lat":"40.111688665596","lon":"40.05615234375"}],[{"lat":"38.099982647365","lon":"34.541015625"}],[{"lat":"41.162113939397","lon":"26.25732421875"}],[{"lat":"36.826874742877","lon":"33.28857421875"}],[{"lat":"39.147102707701","lon":"44.736328125"}],[{"lat":"41.211721510548","lon":"32.51953125"}],[{"lat":"39.808536041446","lon":"43.154296875"}],[{"lat":"36.261992204457","lon":"37.9248046875"}],[{"lat":"37.753344013107","lon":"31.46484375"}],[{"lat":"43.133061162406","lon":"36.01318359375"}],[{"lat":"38.61687046393","lon":"44.58251953125"}],[{"lat":"40.613952441167","lon":"39.7705078125"}],[{"lat":"39.876019419621","lon":"37.2216796875"}],[{"lat":"37.544577320856","lon":"33.0908203125"}],[{"lat":"42.358543917497","lon":"44.14306640625"}],[{"lat":"37.631634755806","lon":"35.7275390625"}],[{"lat":"41.360318663067","lon":"42.47314453125"}],[{"lat":"38.822590976177","lon":"33.64013671875"}],[{"lat":"38.341656192796","lon":"43.1103515625"}],[{"lat":"38.255436376379","lon":"37.705078125"}],[{"lat":"39.232253141715","lon":"49.21875"}],[{"lat":"39.504040705584","lon":"42.4951171875"}],[{"lat":"40.094882122321","lon":"45.98876953125"}],[{"lat":"39.164141047687","lon":"22.2802734375"}],[{"lat":"41.656497194411","lon":"27.1142578125"}],[{"lat":"40.613952441167","lon":"21.62109375"}],[{"lat":"37.265309955619","lon":"22.6318359375"}],[{"lat":"42.065606754057","lon":"42.8466796875"}],[{"lat":"43.40504748787","lon":"41.396484375"}],[{"lat":"41.574361305989","lon":"45.7470703125"}],[{"lat":"39.605688178321","lon":"38.1884765625"}],[{"lat":"40.647303562523","lon":"40.166015625"}],[{"lat":"41.722130585126","lon":"43.06640625"}],[{"lat":"39.504040705584","lon":"29.0478515625"}],[{"lat":"37.840156836041","lon":"28.32275390625"}],[{"lat":"37.614231415424","lon":"34.65087890625"}],[{"lat":"36.191092021825","lon":"36.84814453125"}],[{"lat":"39.605688178321","lon":"30.12451171875"}],[{"lat":"41.590796851056","lon":"26.38916015625"}],[{"lat":"36.332828087379","lon":"36.62841796875"}],[{"lat":"38.61687046393","lon":"38.9794921875"}],[{"lat":"42.016651835568","lon":"26.52099609375"}]]});
	allCoordinates['kr'] = new Array({"coordinates":[[{"lat":"36.800488165791","lon":"127.91931152344"}],[{"lat":"37.116526184911","lon":"128.57299804688"}],[{"lat":"36.155617833819","lon":"128.29833984375"}],[{"lat":"36.738884124394","lon":"127.2216796875"}],[{"lat":"36.641977814706","lon":"128.95202636719"}],[{"lat":"38.28131307923","lon":"125.5517578125"}],[{"lat":"36.712467243386","lon":"126.6064453125"}],[{"lat":"34.985003130171","lon":"127.60070800781"}],[{"lat":"36.65960622648","lon":"126.70532226563"}],[{"lat":"36.826874742877","lon":"126.89208984375"}],[{"lat":"34.777715803605","lon":"127.38647460938"}],[{"lat":"38.410558250946","lon":"128.43017578125"}],[{"lat":"36.50963615733","lon":"127.93579101563"}],[{"lat":"36.137874718407","lon":"127.12280273438"}],[{"lat":"35.227672354936","lon":"126.7822265625"}],[{"lat":"36.049098959066","lon":"127.66662597656"}],[{"lat":"36.615527631349","lon":"126.89208984375"}],[{"lat":"35.572448615623","lon":"127.86437988281"}],[{"lat":"35.272531756602","lon":"127.10083007813"}],[{"lat":"37.518440238879","lon":"127.29309082031"}],[{"lat":"35.795538497993","lon":"127.44689941406"}],[{"lat":"37.688167468408","lon":"128.38073730469"}],[{"lat":"38.056742220653","lon":"128.4521484375"}],[{"lat":"35.978006180856","lon":"128.73779296875"}],[{"lat":"33.376412351247","lon":"126.4306640625"}],[{"lat":"37.405073750177","lon":"126.8701171875"}],[{"lat":"38.099982647365","lon":"126.83715820313"}],[{"lat":"35.603718740697","lon":"128.63891601563"}],[{"lat":"37.783740105227","lon":"127.73254394531"}],[{"lat":"37.861844098371","lon":"127.98522949219"}],[{"lat":"36.78729146682","lon":"129.1552734375"}],[{"lat":"36.89280138294","lon":"128.60595703125"}],[{"lat":"35.567980458012","lon":"126.71630859375"}],[{"lat":"37.501010429493","lon":"127.3095703125"}],[{"lat":"37.015712198801","lon":"127.63366699219"}],[{"lat":"35.599252327729","lon":"126.8701171875"}],[{"lat":"36.919156111482","lon":"128.45764160156"}],[{"lat":"36.571423823463","lon":"128.30932617188"}],[{"lat":"35.433819920142","lon":"129.111328125"}],[{"lat":"37.391981943534","lon":"128.35327148438"}],[{"lat":"35.294952147407","lon":"126.76574707031"}],[{"lat":"34.678393740116","lon":"126.5185546875"}],[{"lat":"36.835668247244","lon":"127.49084472656"}],[{"lat":"37.866180785297","lon":"127.10083007813"}],[{"lat":"37.596824001084","lon":"126.76025390625"}],[{"lat":"36.941111430108","lon":"128.5400390625"}],[{"lat":"36.40802070383","lon":"128.90258789063"}],[{"lat":"35.088450570365","lon":"128.08959960938"}],[{"lat":"36.208823092837","lon":"127.02941894531"}],[{"lat":"36.421282443649","lon":"127.56225585938"}],[{"lat":"36.923547681089","lon":"127.82592773438"}],[{"lat":"35.335293203093","lon":"126.96899414063"}],[{"lat":"36.870832155646","lon":"127.77648925781"}],[{"lat":"35.362176059147","lon":"127.63916015625"}],[{"lat":"37.422525934563","lon":"126.70532226563"}],[{"lat":"35.826721273666","lon":"128.22143554688"}],[{"lat":"36.035773947836","lon":"127.78198242188"}],[{"lat":"36.686041276582","lon":"126.63940429688"}],[{"lat":"37.540221776612","lon":"127.16125488281"}],[{"lat":"36.747687731901","lon":"127.71057128906"}],[{"lat":"35.724217616914","lon":"129.05639648438"}],[{"lat":"38.246808760174","lon":"127.28759765625"}],[{"lat":"37.614231415424","lon":"126.83715820313"}],[{"lat":"37.326488613342","lon":"127.12280273438"}],[{"lat":"35.460669951495","lon":"127.27661132813"}],[{"lat":"37.326488613342","lon":"128.24340820313"}],[{"lat":"35.657296248096","lon":"127.86987304688"}],[{"lat":"34.867904962569","lon":"128.59497070313"}],[{"lat":"36.27970720524","lon":"129.08935546875"}],[{"lat":"34.966998906704","lon":"126.70532226563"}],[{"lat":"36.963060424365","lon":"128.40270996094"}],[{"lat":"37.583765767186","lon":"127.61169433594"}],[{"lat":"35.79108281625","lon":"128.08959960938"}],[{"lat":"36.901587303978","lon":"128.14453125"}],[{"lat":"35.182788138002","lon":"126.61743164063"}],[{"lat":"36.217687122251","lon":"128.8916015625"}],[{"lat":"38.048091067457","lon":"127.49633789063"}],[{"lat":"34.786739162703","lon":"126.6943359375"}],[{"lat":"35.648369157374","lon":"127.10083007813"}],[{"lat":"37.596824001084","lon":"126.76025390625"}],[{"lat":"35.603718740697","lon":"129.12231445313"}],[{"lat":"36.738884124394","lon":"126.57897949219"}],[{"lat":"37.247821201554","lon":"128.82568359375"}],[{"lat":"37.601176236567","lon":"127.93029785156"}],[{"lat":"35.012002043161","lon":"128.671875"}],[{"lat":"37.199706196162","lon":"127.80944824219"}],[{"lat":"37.256566086115","lon":"127.11181640625"}],[{"lat":"35.782170703266","lon":"129.32006835938"}],[{"lat":"35.209721645221","lon":"126.826171875"}],[{"lat":"36.465471886798","lon":"127.19970703125"}],[{"lat":"35.442770925858","lon":"128.64990234375"}],[{"lat":"35.119908570997","lon":"128.43017578125"}],[{"lat":"37.961523313966","lon":"128.22143554688"}],[{"lat":"37.422525934563","lon":"128.73779296875"}]]});
	allCoordinates['oc1'] = new Array({"coordinates":[[{"lat":"-28.226970038918","lon":"131.2646484375"}],[{"lat":"-21.902277966669","lon":"120.9814453125"}],[{"lat":"-33.367237465838","lon":"149.0625"}],[{"lat":"-27.994401411046","lon":"138.33984375"}],[{"lat":"-16.972741019999","lon":"143.3935546875"}],[{"lat":"-29.91685223307","lon":"141.50390625"}],[{"lat":"-35.532226227703","lon":"147.23876953125"}],[{"lat":"-31.858897044455","lon":"150.18310546875"}],[{"lat":"-32.971803776358","lon":"150.31494140625"}],[{"lat":"-12.854648905589","lon":"131.0009765625"}],[{"lat":"-32.694865977875","lon":"116.7626953125"}],[{"lat":"-17.413546114374","lon":"127.81494140625"}],[{"lat":"-18.354525529127","lon":"139.4384765625"}],[{"lat":"-22.492257220085","lon":"130.1220703125"}],[{"lat":"-32.916485347314","lon":"146.77734375"}],[{"lat":"-33.22949814145","lon":"149.23828125"}],[{"lat":"-12.297068292854","lon":"133.154296875"}],[{"lat":"-17.098792237679","lon":"125.9033203125"}],[{"lat":"-32.082574559546","lon":"150.09521484375"}],[{"lat":"-22.674847351189","lon":"117.0263671875"}],[{"lat":"-29.802517905764","lon":"127.1337890625"}],[{"lat":"-24.926294766396","lon":"127.529296875"}],[{"lat":"-16.678293098289","lon":"143.0859375"}],[{"lat":"-29.458731185355","lon":"148.271484375"}],[{"lat":"-27.916766641249","lon":"120.5859375"}],[{"lat":"-33.100745405144","lon":"149.61181640625"}],[{"lat":"-37.509725842938","lon":"141.328125"}],[{"lat":"-43.06888777417","lon":"146.4697265625"}],[{"lat":"-22.593726063929","lon":"143.1298828125"}],[{"lat":"-32.953368145799","lon":"120.41015625"}],[{"lat":"-30.334953881989","lon":"148.88671875"}],[{"lat":"-32.67637277209","lon":"139.68017578125"}],[{"lat":"-36.421282443649","lon":"143.26171875"}],[{"lat":"-24.327076540019","lon":"146.4697265625"}],[{"lat":"-20.159098270647","lon":"125.15625"}],[{"lat":"-33.04550781491","lon":"138.8671875"}],[{"lat":"-14.859850400601","lon":"131.923828125"}],[{"lat":"-32.082574559546","lon":"150.09521484375"}],[{"lat":"-34.125447565116","lon":"138.2080078125"}],[{"lat":"-27.800209937418","lon":"121.4208984375"}],[{"lat":"-33.431441335575","lon":"116.6748046875"}],[{"lat":"-15.961329081597","lon":"130.078125"}],[{"lat":"-23.563987128451","lon":"132.978515625"}],[{"lat":"-25.284437746983","lon":"116.0595703125"}],[{"lat":"-26.549222577692","lon":"151.4794921875"}],[{"lat":"-37.195330582801","lon":"143.96484375"}],[{"lat":"-34.379712580462","lon":"117.1142578125"}],[{"lat":"-18.312810846425","lon":"124.716796875"}],[{"lat":"-35.853439619592","lon":"146.1181640625"}],[{"lat":"-13.710035342477","lon":"133.505859375"}],[{"lat":"-23.885837699862","lon":"116.982421875"}],[{"lat":"-20.550508894196","lon":"138.1640625"}],[{"lat":"-17.895114303749","lon":"168.310546875"}],[{"lat":"-34.813803317113","lon":"144.7998046875"}],[{"lat":"-31.728167146024","lon":"145.5908203125"}],[{"lat":"-27.527758206862","lon":"125.33203125"}],[{"lat":"-33.578014746144","lon":"143.4814453125"}],[{"lat":"-24.84656534822","lon":"127.2216796875"}],[{"lat":"-18.062312304547","lon":"135.439453125"}],[{"lat":"-20.138470312451","lon":"122.3876953125"}],[{"lat":"-37.125286284967","lon":"141.767578125"}],[{"lat":"-27.137368359796","lon":"148.798828125"}],[{"lat":"-27.488781168938","lon":"121.1572265625"}],[{"lat":"-22.593726063929","lon":"120.849609375"}],[{"lat":"-29.611670115197","lon":"117.3779296875"}],[{"lat":"-12.854648905589","lon":"131.0009765625"}],[{"lat":"-18.062312304547","lon":"141.8994140625"}],[{"lat":"-27.019984007983","lon":"151.435546875"}],[{"lat":"-31.165809587862","lon":"117.861328125"}],[{"lat":"-31.203404950917","lon":"136.7138671875"}],[{"lat":"-34.198173096277","lon":"139.98779296875"}],[{"lat":"-31.316101383496","lon":"137.70263671875"}],[{"lat":"-31.090574094954","lon":"146.25"}],[{"lat":"-26.037041886516","lon":"129.462890625"}],[{"lat":"-17.769612247143","lon":"136.7138671875"}],[{"lat":"-15.834535741222","lon":"126.4306640625"}],[{"lat":"-28.265682390146","lon":"146.513671875"}],[{"lat":"-34.741612498832","lon":"143.701171875"}],[{"lat":"-15.284185114076","lon":"132.0556640625"}],[{"lat":"-19.932041306116","lon":"134.4287109375"}],[{"lat":"-21.28937435586","lon":"165.234375"}],[{"lat":"-29.382175075145","lon":"119.794921875"}],[{"lat":"-25.36388227274","lon":"114.78515625"}],[{"lat":"-8.8416511208091","lon":"125.8154296875"}],[{"lat":"-36.562600037385","lon":"144.6240234375"}],[{"lat":"-26.509904531414","lon":"135"}],[{"lat":"-19.311143355065","lon":"143.26171875"}],[{"lat":"-37.753344013107","lon":"142.6025390625"}],[{"lat":"-20.055931265194","lon":"127.79296875"}],[{"lat":"-13.624633438236","lon":"131.220703125"}],[{"lat":"-18.937464429642","lon":"133.35205078125"}],[{"lat":"-25.204941153569","lon":"142.3388671875"}],[{"lat":"-33.724339661748","lon":"136.1865234375"}],[{"lat":"-12.854648905589","lon":"131.0009765625"}],[{"lat":"-28.844673680772","lon":"150.99609375"}],[{"lat":"-34.125447565116","lon":"149.58984375"}],[{"lat":"-25.324166525738","lon":"119.091796875"}],[{"lat":"-30.82678090478","lon":"150.732421875"}],[{"lat":"-30.524413269924","lon":"146.42578125"}],[{"lat":"-13.453737213419","lon":"142.294921875"}],[{"lat":"-32.398515802474","lon":"150.05126953125"}],[{"lat":"-22.431340156361","lon":"146.3818359375"}],[{"lat":"-21.616579336741","lon":"129.638671875"}],[{"lat":"-42.488301979602","lon":"147.12890625"}],[{"lat":"-22.350075806125","lon":"122.5634765625"}],[{"lat":"-18.354525529127","lon":"139.4384765625"}]]});

var aRegions = [
	{name: 'kr', summoners: [], totalRegion: 0},
	{name: 'euw1', summoners: [], totalRegion: 0},
	{name: 'na1', summoners: [], totalRegion: 0},
	{name: 'eun1', summoners: [], totalRegion: 0},
	{name: 'oc1', summoners: [], totalRegion: 0},
	{name: 'br1', summoners: [], totalRegion: 0},
	{name: 'jp1', summoners: [], totalRegion: 0},
	{name: 'la2', summoners: [], totalRegion: 0},
	{name: 'la1', summoners: [], totalRegion: 0},
	{name: 'tr1', summoners: [], totalRegion: 0},
	{name: 'ru', summoners: [], totalRegion: 0},
];

$(document).ready(function() {
	
	mymap = L.map('mapid', {
    	center: [25, 25],
    	zoom: 4
	});

	var link_map = 'https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png'
	// let link_map =  'https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}'
	// var link_map = 'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}'
	// var link_map = 'https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png'
	// var link_map = 'https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png'

	L.tileLayer(link_map, {
	    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery <a href="https://www.mapbox.com/">Mapbox</a>',
	    maxZoom: 8,
	    minZoom: 2,
	}).addTo(mymap);
	
	$("#mapid").fadeIn().promise().done(function(result){
		
		let firstLoadRandomRegion = aRegions[getRandomInt(0, aRegions.length)].name;
		let randomCoordinate = getRandomJSONCoordinate(firstLoadRandomRegion);
		
		generateStart()
		.done(function(result){

			navbarStart(aRegions);
			
			if(window.location.search.substr(1) != ''){
				summonerSearchInput.val(unescape(decodeURIComponent(window.location.search.substr(1)))).promise().done(function() { 
					setHTMLSummonerDetails(summonerSearchSelectRegion.text().toLowerCase(), "", "", summonerSearchInput.val().toLowerCase())
					.done(function(summoner) {
						setSummonerMarker(summonerSearchSelectRegion.text().toLowerCase(), summoner)
						.done(function() {
							setHTMLTopSummoners(summonerSearchSelectRegion.text().toLowerCase());
							$(".tr-summoner-" + summonerSearchSelectRegion.text().toLowerCase()).show();
						})
						
					})
				})
			} else {			
				mymap.flyTo([randomCoordinate.lat, randomCoordinate.lon], getAreaInfo(firstLoadRandomRegion, 'zoom'))
			}

		})
		
	})
	
})// FINAL DOCUMENT READY

function generateStart(){

var divMap = $("#mapid");
let aTotals = [];

return divMap.promise().done(function() {

	aRegions.forEach(function(region, index){

		return getHyperRollList(region.name).done(function(aHyperRollList){
			
			aRegions[index].totalRegion = aHyperRollList.totalRegion;
			
			aHyperRollList.forEach(function(summoner, index){

				if(index == 0){
					topOfTheWorld.push(summoner);
				}
				
				if(index <= LIMIT_GENERATE_SUMMONERS){
					
					let randomCoordinate = getRandomJSONCoordinate(region.name);
					let iconOptions = getHyperRollBadgeByPosition(index);
					
					let iconStyle = L.icon({
						iconUrl: "img/badge_" + summoner.ratedTier.toLowerCase() + ".png",
						iconSize:     [iconOptions[1], iconOptions[1]],
						// iconAnchor:   [50 -, 100],
						// tooltipAnchor:  [50 , 100],
						zIndexOffset: iconOptions[1],
						className: summoner.summonerId + " clickable"
					})
					
					let marker = L.marker([randomCoordinate.lat, randomCoordinate.lon], {icon: iconStyle})		   
					.addTo(mymap)
					
					if(index <= 3){
						marker.bindTooltip("<span class='fs-6'>" + summoner.summonerName + "</span>", {permanent: true, direction: 'bottom', className: 'tooltip-tft'}).openTooltip();
					}

					$("img.leaflet-marker-icon." + summoner.summonerId).click(function() { 
						zoomMapIn(randomCoordinate.lat, randomCoordinate.lon, 8);
					 })
					
				}
			})

			return aHyperRollList;
		}).always(function(aHyperRollList) {
			
			drawRegionArea(region.name);
			setHTMLRankingRegions(region);

			return aHyperRollList;
		})		

	})

});



}

function compare(a, b){
	if (a['totalRegion'] > b['totalRegion']) {
		return 1;
	  }
	  if (a['totalRegion'] < b['totalRegion']) {
		return -1;
	  }
	  // a must be equal to b
	  return 0;
}

function compareTopWorld(a, b){
	if (a.ratedRating < b.ratedRating) {
		return 1;
	  }
	  if (a.ratedRating > b.ratedRating) {
		return -1;
	  }
	  // a must be equal to b
	  return 0;
}

function navbarStart(aRegions){
	
	aRegions.forEach(function(region, index){
		
		let navbarSelectRegion = $(".navbar-select-region");
		let navbarSelectRegionDropdown = $(".dropdown-item#" + region.name);
		
		navbarSelectRegion
		.append("<li><a class='dropdown-item bg-default text-uppercase' id=" + region.name + " href='#'>" + region.name + "</a></li>")
		
		navbarSelectRegionDropdown
		.click(function(){
			$(".btn.navbar-select-region-option").text(region.name);
		})

	})
}

function drawRegionArea(region){

	return $.getJSON("json/area/" + region + "_area.json", function(dataGeoJSON){
									
	}).done(function(dataGeoJSON){
		
		L.geoJSON(dataGeoJSON, {
			style: function(){
				fillColor = getAreaInfo(region, 'theme')
				return { 
					color: getAreaInfo(region, 'theme'),
					weight: 1, 
					fillColor: fillColor, 
					fillOpacity: .5 
				};
			}
			
		}).addTo(mymap)

	}).fail(function(dataGeoJSON){
		console.log("Erro ao drawRegionArea de JSON " + region);
	})
	
}

function getSummonerFromJSON(region, id){

	return $.getJSON("json/summoners/" + id.toLowerCase() + ".json", function(summonerJson){

	}).done(function(summonerJson){
		return summonerJson;
	}).fail(function(summonerJson){
		getSummonerFromAPI(region, id);
	    console.log("Erro ao obter JSON de summoner " + id);
	});

}


function getJSON(path, fileName){

	$.getJSON("json/" + path + fileName + ".json", function(jsonFile){

		console.log("Lendo json/" + path + fileName + ".json");

		console.log(jsonFile);

	}).done(function(jsonFile){

		return jsonFile;

	}).fail(function(){

	    console.log("Erro ao ler JSON - " + "json/" + path + fileName + ".json");

	}).always(function(jsonFile){
		console.log(jsonFile.coordinates[1]);
	})
}

function getRandomInt(min, max){
  min = Math.ceil(min);
  max = Math.floor(max);
  return Math.floor(Math.random() * (max - min)) + min;
}

function getHyperRollBadge(points){
// Grey tier ? 0 points
// Green tier ? 1,400 points
// Blue tier ? 2,600 points
// Purple tier ? 3,400 points
// Hyper tier ? 4,200 points
	if(points >= 4200){
		return ['badge_hyper', 25];
	} else if(points < 4200 && points >= 3400) {
		return ['badge_purple', 25];
	} else if(points < 2600 && points >= 1400) {
		return ['badge_blue', 25];
	} else if(points <= 1400) {
		return ['badge_green', 25];
	} else {
		return ['badge_gray', 25];
	}
}


function getHyperRollBadgeByPosition(index){
	if(index < 1){
		return ['badge_hyper', 100];
	} else if(index => 1 && index <= 5){
		return ['badge_hyper', 50];
	} else if(index > 5 && index <= 15) {
		return ['badge_purple', 20];
	} else if(index > 15 && index <= 30) {
		return ['badge_blue', 15];
	} else if(index > 30 && index <= 60) {
		return ['badge_green', 10];
	} else {
		return ['badge_gray', 5];
	}
}

function getHyperRollList(region){

	return $.getJSON("json/hyperroll/" + region + ".json", function(){
	
	}).done(function(hyperrollJsonResult){

		hyperrollJsonResult.forEach(function(summoner, index){

			if(index < LIMIT_GENERATE_SUMMONERS){
				
				$.getJSON("json/summoners/" + summoner.summonerId.toLowerCase() + ".json", function(summonerJsonDetails){
					
				}).done(function (summonerJsonDetails) { 

					setSummonersProfileIcon(region, summonerJsonDetails.id, index);

					return summonerJsonDetails;
					
			    }).fail(function (summonerJsonDetails) { 

					getSummonerFromAPI(region, summoner.summonerId)
					.done(function () {
						
					})

				})

			}

		})

		hyperrollJsonResult['totalRegion'] = hyperrollJsonResult.reduce((sum, value) => sum + value.ratedRating, 0);

		return hyperrollJsonResult;
		
	}).fail(function(hyperrollJsonResult){

		return getHyperRollFromAPI(region).done(function(hyperRollResult){			
			return hyperRollResult;
		});

	})

}

function getRandomJSONCoordinate(region, zoomIt = false){

	let randInt = getRandomInt(0, allCoordinates[region][0]['coordinates'].length);

	if(zoomIt){
		mymap.setView([
			allCoordinates[region][0]['coordinates'][randInt][0].lat,
			allCoordinates[region][0]['coordinates'][randInt][0].lon
		], getAreaInfo(region, 'zoom'));
	}

	let returnPos = allCoordinates[region][0]['coordinates'][randInt][0];

	allCoordinates[region][0]['coordinates'].pop(randInt);

	return returnPos; 
}

function getAreaInfo(region, info){
	if(info == 'theme'){
		switch(region){
			case 'br1':
				return "#f57f17";   			
			case 'la1':
				return "#4CAF50";   			
			case 'la2':
				return "#00bcd4";   			
			case 'na1':
				return "#f4511e";   			
			case 'euw1':
				return "#ea80fc";   			
			case 'eun1':
				return "#42a5f5";   			
			case 'ru':
				return "#F44336";   			
			case 'tr1':
				return "#3f51b5";   			
			case 'jp1':
				return "#e91e63";   			
			case 'kr':
				return "#7c4dff";			
			case 'oc1':
				return "#00897b";
			default:
				return "#f0f0f0";
		}
	} else if(info == 'name'){
		switch(region){
			case 'br1':
				return "Brasil";   			
			case 'la1':
				return "Latin America North";   			
			case 'la2':
				return "Latin America South";   			
			case 'na1':
				return "North America";   			
			case 'euw1':
				return "Europe West";   			
			case 'eun1':
				return "Europe Nordic & East";   			
			case 'ru':
				return "Russia";   			
			case 'tr1':
				return "Turkey";   			
			case 'jp1':
				return "Japan";   			
			case 'kr':
				return "Korea";			
			case 'oc1':
				return "Oceania";
			default:
				return "No name";
		}
	} else if(info == 'zoom'){
	switch(region){
			case 'br1':
				return "4";   			
			case 'la1':
				return "4";   			
			case 'la2':
				return "4";   			
			case 'na1':
				return "3";   			
			case 'euw1':
				return "5";   			
			case 'eun1':
				return "5";   			
			case 'ru':
				return "3";   			
			case 'tr1':
				return "6";   			
			case 'jp1':
				return "7";   			
			case 'kr':
				return "7";			
			case 'oc1':
				return "4";
			default:
				return "4";
		}
	} else if(info == 'region_path'){
		if(region == 'br1' || region == 'na1' || region == 'la1' || region == 'la2'){
			return 'americas';
		} else if(region == 'eun1' || region == 'euw1' || region == 'tr1' || region == 'ru'){
			return 'europe';
	    } else {
			return 'asia';
		}
	} else if(info == 'totalRegion'){
		
		return getHyperRollList(region.name)
		.done(function(aHyperRollList){
			return aHyperRollList.reduce((sum, value) => sum + value.ratedRating, 0);
		})

	}
}

function getNumberToK(n){
	return Math.round(n / 1000) + "K";
}

function setHTMLSummonerDetails(region, summonerId, puuid, summonerName){

	if(summonerId){
		
		return getSummonerFromAPI(region, summonerId, summonerName)
		.done(function(summonerJsonResult){

			summonerJsonResult = JSON.parse(summonerJsonResult);

			$(".summoner-details .card .card-body")
			.empty()
			.append("<center><img class='rounded-circle m-2 img-rounded clickable" + summonerJsonResult.id + " border-" + region + "' src='" + SUMMONER_ICON_PATH + summonerJsonResult.profileIconId + ".png' alt='" +  summonerJsonResult.name + "'/></center>" +
				"<div class='card-body text-center'>" +
				"<span class='badge " + region + " text-uppercase m-1'>#" + region + "</span></p>" + 
				"<p>" +
					"<span class='badge " + region + " fs-5'>" + summonerJsonResult.name + "</span>" + 
				"</p>" +
				"<span class='badge " + region + " fs-6'>Level: " + summonerJsonResult.summonerLevel + "</span>" +				
				
					"<table class='table table-striped table-dark text-left animate__animated animate__bounceInLeft' id='summonerStats'>" +
						"<thead>" +						
						"</thead>" +
						
						"<tbody>" +
						"</tbody>" +
					"</table>" +
				"</div>"
			)

			spinnerSummonerDetails.show();
			setHTMLSummonerLastMatchs(region, summonerJsonResult.id, summonerJsonResult.puuid);
			
			return summonerJsonResult;

		}).fail(function(){
					
			return getSummonerFromAPI(region, summonerId)
			.done(function(aSummonerSearchBar){					
				return aSummonerSearchBar;
			})
				
		}).always(function() {
			
			spinnerSummonerDetails.hide();
			summonerDetails.fadeIn();
			
		})

	} else if(summonerName) {

		let path = "/tft/summoner/v1/summoners/by-name/" + escape(encodeURIComponent(summonerName));
		let savePath = "/summoners/byname/" +  escape(encodeURIComponent(summonerName));
		
		return getSummonerFromAPI(region, '', summonerName)
		.done(function(summonerJsonResult){
			
			summonerJsonResult = JSON.parse(summonerJsonResult);

			$(".summoner-details .card .card-body")
			.empty()
			.append("<center><img class='rounded-circle m-2 img-rounded clickable" + summonerJsonResult.id + " border-" + region + "' src='" + SUMMONER_ICON_PATH + summonerJsonResult.profileIconId + ".png' alt='" +  summonerJsonResult.name + "'/></center>" +
				"<div class='card-body text-center'>" +
				"<span class='badge " + region + " text-uppercase m-1'>#" + region + "</span></p>" + 
				"<p>" +
					"<span class='badge " + region + " fs-5'>" + summonerJsonResult.name + "</span>" + 
				"</p>" +
				"<span class='badge " + region + " fs-6'>Level: " + summonerJsonResult.summonerLevel + "</span>" +	
				
					"<table class='table table-striped table-dark text-left animate__animated animate__bounceInLeft' id='summonerStats'>" +
						"<thead>" + 							
						"</thead>" +
						
						"<tbody>" +
						"</tbody>" +
					"</table>" +
				"</div>"
			);
	
			setHTMLSummonerLastMatchs(region, summonerJsonResult.id, summonerJsonResult.puuid);
			spinnerSummonerDetails.show();
		
			return summonerJsonResult;
			
		}).fail(function(){
		}).always(function() {
			spinnerSummonerDetails.hide();
			summonerDetails.fadeIn();
		})

	}

}

function setHTMLRankingRegions(region){
	
	$("#tableRankingRegion").fadeIn();
	
	let tBody = $("#tableRankingRegion tbody");

	getHyperRollList(region.name).done(function(aHyperRollList){

		tBody.append(
			"<tr class='tr-" + region.name + " clickable'>" +
				"<td><span class='badge text-light m-1 text-uppercase fs-6 " + region.name + "'>#" + region.name + "</span><span class='fs-5'>" + getAreaInfo(region.name, "name") + "</span></td>" +				
				"<td><span class='badge " + region.name + " fs-6'>" + getNumberToK(region.totalRegion) + "</span></td>" +
			+ "</tr>").promise()
			.done(function(data) {				
				$(".tr-" + region.name).click(function(){
					let randomCoordinate = getRandomJSONCoordinate(region.name);
					zoomMapIn(randomCoordinate.lat,randomCoordinate.lon, getAreaInfo(region.name, 'zoom'));
					setHTMLTopSummoners(region);
					$(".summoner-details .card .card-body").empty();
				})
			})
			
	}).always(function() {
		spinnerRankingRegions.hide();
	})


}
	
function setHTMLTopSummoners(region){

	let regionRankingTop3 = $(".tr-" + region.name);
	let trClassSummoner = "tr-summoner-" + region.name;

	if($("." + trClassSummoner).text() <= 0){

		getHyperRollList(region.name).done(function(aHyperRollList){

			aHyperRollList.slice(0, 5).reverse().forEach(function (summonerHyperRoll, index) {

				let currPosition = (index - 5) * -1;
				let diffPosition = summonerHyperRoll.previousUpdateLadderPosition - currPosition;
				let iconUpDown = "";

				if(currPosition < summonerHyperRoll.previousUpdateLadderPosition && diffPosition > 0){
					iconUpDown = "fas fa-caret-up text-success";
				} else if(diffPosition < 0){
					iconUpDown = "fas fa-caret-down text-danger";
				} else {
					iconUpDown = "";
				}
		
				getSummonerFromJSON(region.name, summonerHyperRoll.summonerId).done(function (summoner) {

					let iconSummonerHyperRollTier = "img/badge_" + summonerHyperRoll.ratedTier.toLowerCase() + ".png";

					$(regionRankingTop3).after(
						"<tr class='" + trClassSummoner + " clickable'>" +
							"<td>" +
								"<div class='badge fs-6 badge-rounded " + region.name + "'>" + currPosition + "</div>" +
								"<img class='border-" + region.name + " clickable rounded-circle m-3 " + summoner.id + 
								" border border-secondary' height='65px' src='" + SUMMONER_ICON_PATH + summoner.profileIconId + ".png' alt='" +  summoner.name + "'/>" +
									"<span><div class='badge p-2 fs-5 " + region.name + "'>" + summoner.name + "</div></span>" + 
									"<i class='fas " + iconUpDown + " m-1'></i>" + ((diffPosition !== 0 ) ? diffPosition : '') + 
								"</td>" +		
								
								"<td>" +								
									"<img height='60px' src='" + iconSummonerHyperRollTier + "'/><br>" +
									"<div class='badge bg-primary m-1'><i class='fas fa-bolt'></i> " + summonerHyperRoll.ratedRating + " Points</div><br>" +
									"<div class='badge bg-success m-1'><i class='fas fa-medal'></i> " + summonerHyperRoll.wins + " Wins</div>" +
								"</td>" +	
						"</tr>"	
						).click(function(){
							setHTMLSummonerDetails(region.name, summoner.id, summoner.puuid);																												
						})
						
				})

			})
		})

		$("." + trClassSummoner).toggle();
	} else {
		$("." + trClassSummoner).toggle();
	}
}

function setSummonersProfileIcon(region, summonerId, index){

	$.getJSON("json/summoners/" + summonerId.toLowerCase() + ".json", function(summonerJsonResult){
 	
	}).done(function(summonerJsonResult){

		$("img.leaflet-marker-icon." + summonerId).attr('src', SUMMONER_ICON_PATH + summonerJsonResult.profileIconId + '.png')
		$("img." + summonerId).click(function(){
			setHTMLSummonerDetails(region, summonerJsonResult.id, summonerJsonResult.puuid);
		})

	}).fail(function(summonerJsonResult){

		console.log("JSON Not found in |json/summoners/" + summonerId.toLowerCase() + ".json| Getting API...")
		getSummonerFromAPI(region, summonerId);

	}).always(function() { 
		if(index <= 3){			
			$("img.leaflet-marker-icon." + summonerId).addClass("border-" + region);
		}
	 })

}

function setHTMLSummonerLastMatchs(region, summonerId, puuid, limit = 10){

    let path = "/tft/match/v1/matches/by-puuid/" + puuid + "/ids?count=" + limit;
	let savePath = "/matchs/" + summonerId;
	let regionPath = getAreaInfo(region, 'region_path');
	let tbodyStats = $("#summonerStats tbody");
	let theadStats = $("#summonerStats thead");
	
	let goldLeftCount = 0;
	let lastRoundCount = 0;
	let levelCount = 0; 
	let placementCount = 0;
	let playersKilledCount = 0; 
	let timeCount = 0;
	let damageCount = 0;
	
	let countAux = 0;
	
	theadStats.append("<tr>" +
						"<td colspan='2' class='fs-6'>" +
							"<i class='fas fa-dice'></i> Average stats for last <span class='fs-5'>" + limit + "</span> matchs" +
						"</td>" +								
					"</tr>" 
					);

	return getAPI(regionPath, path, savePath)
	.done(function(aMatchsResult){
		
		JSON.parse(aMatchsResult).forEach(function(match, index){
			
			return getAPI(regionPath, '/tft/match/v1/matches/' + match, '')
			.done(function(aMatchResult){
				
				JSON.parse(aMatchResult).info.participants.forEach(function(participant, index){
					
					if(participant.puuid == puuid){						

						countAux += 1;

						goldLeftCount += participant.gold_left;
						lastRoundCount += participant.last_round;
						levelCount += participant.level;
						placementCount += participant.placement;
						playersKilledCount += participant.players_eliminated;
						timeCount += participant.time_eliminated;
						damageCount += participant.total_damage_to_players;
						
						if(countAux == limit){

							tbodyStats.append("<tr class='animate__animated animate__bounceInRight'><td>Gold</td><td>" + (goldLeftCount / limit) + "</td></tr>");
							tbodyStats.append("<tr class='animate__animated animate__bounceInRight'><td>Last Round</td><td>" + (lastRoundCount / limit) + "</td></tr>");
							tbodyStats.append("<tr class='animate__animated animate__bounceInRight'><td>Level</td><td>" + (levelCount / limit) + "</td></tr>");
							tbodyStats.append("<tr class='animate__animated animate__bounceInRight'><td>Placement</td><td>" + (placementCount / limit) + "</td></tr>");
							
							tbodyStats.append("<tr class='animate__animated animate__bounceInRight'><td>Players Eliminated</td><td>" + (playersKilledCount / limit) + "</td></tr>");
							tbodyStats.append("<tr class='animate__animated animate__bounceInRight'><td>Time Match</td><td>" + Math.round((timeCount / limit) / 60) + " Minutes</td></tr>");
							tbodyStats.append("<tr class='animate__animated animate__bounceInRight'><td>Damage Dealt</td><td>" + (damageCount / limit) + "</td></tr>");
							
							spinnerSummonerDetails.hide();
						}
							
					}
						
				})
					
			})
					
		});
			
	})	

}

function zoomMapIn(lat, lon, zoom){
	mymap.flyTo([lat, lon], zoom);
}

function getSummonerFromAPI(region, summonerId, summonerName){

	let link = '';
	let path = '';
	let savePath = '';

	if(summonerName){

		path = "/tft/summoner/v1/summoners/by-name/" + escape(encodeURIComponent(summonerName));
		savePath = "/summoners/byname/" +  escape(encodeURIComponent(summonerName));		
		link = SERVER_PATH + "get_api.php?region=" + region + 
			"&jsonSavePath=" + savePath +
			"&path=" + path;

	} else {

		path = "/tft/summoner/v1/summoners/" + summonerId;
		savePath = "/summoners/" + summonerId;	
		link = SERVER_PATH + "get_api.php?region=" + region  + 
			"&jsonSavePath=" + savePath + 
			"&path=" + path;

	}

	return getAPI(region, path, savePath).done(function(summonerAPIResult) {
		return summonerAPIResult;
	})

}

function getAPI(region, path, savePath){

	let link = SERVER_PATH + "get_api.php?" +
	                           "region=" + region + 
							   "&jsonSavePath=" + savePath + 
							"&path=" + path;

	return $.ajax({
		type: "GET",
		url: link,
		data: {
	},
	success: function(summonerAPIResult) {
		console.log("GetAPI - Success " + region + path + " salvando em " + savePath);
		return JSON.parse(summonerAPIResult);
	}

});

}

function getHyperRollFromAPI(region){

	let link = SERVER_PATH + "get_api.php?region=" + region  + "&jsonSavePath=/hyperroll/" + region + "&" +
	"path=/tft/league/v1/rated-ladders/RANKED_TFT_TURBO/top";

		return $.ajax({
			type: "GET",
		  	url: link,
		  	data: {
	  	},
	  	success: function(hyperRollResult) {
	  		console.log("API Sucesso importou HyperRoll de " + region);
	    	return hyperRollResult;
	  	}

	});

}

function setSummonerMarker(region, summoner){

	summoner = JSON.parse(summoner);

	let randomCoordinate = getRandomJSONCoordinate(region);
	
	let iconStyle = L.icon({
		iconUrl: SUMMONER_ICON_PATH + summoner.profileIconId + ".png",
		iconSize:     [75, 75],		
		zIndexOffset: 1200,
		className: summoner.id + " clickable"
	})
	
	let marker = L.marker([randomCoordinate.lat, randomCoordinate.lon], {icon: iconStyle})		   
	.addTo(mymap);
	
	marker.bindTooltip("<span class='fs-6'>" + summoner.name + "</span>", {permanent: true, direction: 'bottom', className: 'tooltip-tft'}).openTooltip();

	return $("img.leaflet-marker-icon." + summoner.id).click(function() { 
		zoomMapIn(randomCoordinate.lat, randomCoordinate.lon, 6);
	}).promise().done(function() { 		
		zoomMapIn(randomCoordinate.lat, randomCoordinate.lon, 6);
	})


}